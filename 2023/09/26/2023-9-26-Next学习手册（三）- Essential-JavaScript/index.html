
<!DOCTYPE html>
<html lang="zh" class="loading">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Next学习手册（三）- Essential JavaScript - 二月の档案室</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate" />
    <meta name="keywords" content="二月,"> 
    <meta name="description" content="所感所想，所言所行，我将以文字记录我自己。,基本JavaScript熟悉JavaScript可以帮助我们更好的学习React，本章主要讲一些基本的JavaScript，以防止因为缺少JavaScript知识导致对后面的内容难以理解。
如果你很,"> 
    <meta name="author" content="Allureluoli"> 
    <link rel="alternative" href="atom.xml" title="二月の档案室" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">

    
    
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:title" content="Next学习手册（三）- Essential JavaScript - 二月の档案室"/>
    <meta name="twitter:description" content="所感所想，所言所行，我将以文字记录我自己。,基本JavaScript熟悉JavaScript可以帮助我们更好的学习React，本章主要讲一些基本的JavaScript，以防止因为缺少JavaScript知识导致对后面的内容难以理解。
如果你很,"/>
    
    
    
    
    <meta property="og:site_name" content="二月の档案室"/>
    <meta property="og:type" content="object"/>
    <meta property="og:title" content="Next学习手册（三）- Essential JavaScript - 二月の档案室"/>
    <meta property="og:description" content="所感所想，所言所行，我将以文字记录我自己。,基本JavaScript熟悉JavaScript可以帮助我们更好的学习React，本章主要讲一些基本的JavaScript，以防止因为缺少JavaScript知识导致对后面的内容难以理解。
如果你很,"/>
    
<link rel="stylesheet" href="/css/diaspora.css">

    <script>window.searchDbPath = "/search.xml";</script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap" rel="stylesheet">
<meta name="generator" content="Hexo 6.3.0"></head>

<body class="loading">
    <span id="config-title" style="display:none">二月の档案室</span>
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="iconfont icon-home image-icon" href="javascript:;" data-url="https://blog.curesky.site"></a>
    <div title="播放/暂停" class="iconfont icon-play"></div>
    <h3 class="subtitle">Next学习手册（三）- Essential JavaScript</h3>
    <div class="social">
        <div>
            <div class="share">
                <a title="获取二维码" class="iconfont icon-scan" href="javascript:;"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>

    <div class="section">
        <div class="article">
    <div class='main'>
        <h1 class="title">Next学习手册（三）- Essential JavaScript</h1>
        <div class="stuff">
            <span>九月 26, 2023</span>
            
  <ul class="post-tags-list" itemprop="keywords"><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/Next-js/" rel="tag">Next.js</a></li><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/React/" rel="tag">React</a></li><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/jsx/" rel="tag">jsx</a></li></ul>


        </div>
        <div class="content markdown">
            <h3 id="基本JavaScript"><a href="#基本JavaScript" class="headerlink" title="基本JavaScript"></a>基本JavaScript</h3><p>熟悉JavaScript可以帮助我们更好的学习React，本章主要讲一些基本的JavaScript，以防止因为缺少JavaScript知识导致对后面的内容难以理解。</p>
<p>如果你很熟悉JavaScript可以跳过此节。</p>
<p>JavaScript的用途非常广泛，也非常的庞大，我们从以下几个角度开始学习基本的JavaScript：</p>
<ul>
<li><p>Functions and Arrow Functions：函数和箭头函数</p>
</li>
<li><p>Object：对象</p>
</li>
<li><p>Arrays and array methods：数组和数组方法</p>
</li>
<li><p>Destructuring：解构函数</p>
</li>
<li><p>Template literals：模板文字</p>
</li>
<li><p>Ternary Operators：三元运算符</p>
</li>
<li><p>ES Modules and Import &#x2F; Export Syntax：ES 模块和导入&#x2F;导出 语法</p>
</li>
</ul>
<h2 id="函数和箭头函数"><a href="#函数和箭头函数" class="headerlink" title="函数和箭头函数"></a>函数和箭头函数</h2><p>MDN：</p>
<ul>
<li>函数是 JavaScript 中的基本组件之一。JavaScript 中的函数类似于过程——一组执行任务或计算值的语句。但要成为函数，这个过程应该接受输入并返回与输入存在某些明显关系的输出。要使用一个函数，你必须将其定义在你希望调用它的作用域内。</li>
</ul>
<h3 id="函数声明"><a href="#函数声明" class="headerlink" title="函数声明"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Functions#%E5%87%BD%E6%95%B0%E5%A3%B0%E6%98%8E">函数声明</a></h3><p>一个<strong>函数定义</strong>（也称为<strong>函数声明</strong>，或<strong>函数语句</strong>）由 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/function"><code>function</code></a> 关键字，并跟随以下部分组成：</p>
<ul>
<li>函数名称。</li>
<li>函数参数列表，包围在括号中并由逗号分隔。</li>
<li>定义函数的 JavaScript 语句，用大括号括起来，<code>&#123; /* … */ &#125;</code>。</li>
</ul>
<p>例如，以下的代码定义了一个简单的名为 <code>square</code> 的函数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">square</span>(<span class="params">number</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> number * number;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>函数 <code>square</code> 接收一个名为 <code>number</code> 的参数。这个函数只有一个语句，其表示该函数将函数的参数（即 <code>number</code>）自乘后返回。函数的 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/return"><code>return</code></a> 语句指定了函数的返回值：<code>number * number</code>。</p>
<p>参数本质上是<strong>按值</strong>传递给函数的——因此，即使函数体的代码为传递给函数的参数赋了新值，<strong>这个改变也不会反映到全局或调用该函数的代码中</strong>。</p>
<p>如果你将对象作为参数传递，而函数改变了这个对象的属性，这样的改变对函数外部是可见的，如下面的例子所示：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myFunc</span>(<span class="params">theObject</span>) &#123;</span><br><span class="line">  theObject.<span class="property">make</span> = <span class="string">&quot;Toyota&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mycar = &#123;</span><br><span class="line">  <span class="attr">make</span>: <span class="string">&quot;Honda&quot;</span>,</span><br><span class="line">  <span class="attr">model</span>: <span class="string">&quot;Accord&quot;</span>,</span><br><span class="line">  <span class="attr">year</span>: <span class="number">1998</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(mycar.<span class="property">make</span>); <span class="comment">// &quot;Honda&quot;</span></span><br><span class="line"><span class="title function_">myFunc</span>(mycar);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(mycar.<span class="property">make</span>); <span class="comment">// &quot;Toyota&quot;</span></span><br></pre></td></tr></table></figure>

<p>如果你将数组作为参数传递，而函数改变了这个数组的值，这样的改变对函数外部也同样可见，如下面的例子所示：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myFunc</span>(<span class="params">theArr</span>) &#123;</span><br><span class="line">  theArr[<span class="number">0</span>] = <span class="number">30</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">45</span>];</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr[<span class="number">0</span>]); <span class="comment">// 45</span></span><br><span class="line"><span class="title function_">myFunc</span>(arr);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr[<span class="number">0</span>]); <span class="comment">// 30</span></span><br></pre></td></tr></table></figure>

<h3 id="函数表达式"><a href="#函数表达式" class="headerlink" title="函数表达式"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Functions#%E5%87%BD%E6%95%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F">函数表达式</a></h3><p>虽然上面的函数声明在语法上是一个语句，但函数也可以由<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/function">函数表达式</a>创建。</p>
<p>这样的函数可以是<strong>匿名</strong>的；它不必有一个名称。例如，函数 <code>square</code> 也可这样来定义：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> square = <span class="keyword">function</span> (<span class="params">number</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> number * number;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">square</span>(<span class="number">4</span>)); <span class="comment">// 16</span></span><br></pre></td></tr></table></figure>

<p>然而，<em>也可以</em>为函数表达式提供名称，并且可以用于在函数内部代指其本身，或者在调试器堆栈跟踪中识别该函数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> factorial = <span class="keyword">function</span> <span class="title function_">fac</span>(<span class="params">n</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> n &lt; <span class="number">2</span> ? <span class="number">1</span> : n * <span class="title function_">fac</span>(n - <span class="number">1</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">factorial</span>(<span class="number">3</span>)); <span class="comment">// 6</span></span><br></pre></td></tr></table></figure>

<p>当将函数作为参数传递给另一个函数时，函数表达式很方便。下面的例子演示了一个叫 <code>map</code> 的函数，该函数接收函数作为第一个参数，接收数组作为第二个参数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">map</span>(<span class="params">f, a</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> result = <span class="keyword">new</span> <span class="title class_">Array</span>(a.<span class="property">length</span>);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; a.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    result[i] = <span class="title function_">f</span>(a[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在以下代码中，该函数接收由函数表达式定义的函数，并对作为第二个参数接收的数组的每个元素执行该函数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">map</span>(<span class="params">f, a</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> result = <span class="keyword">new</span> <span class="title class_">Array</span>(a.<span class="property">length</span>);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; a.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    result[i] = <span class="title function_">f</span>(a[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> cube = <span class="keyword">function</span> (<span class="params">x</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> x * x * x;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> numbers = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">10</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">map</span>(cube, numbers)); <span class="comment">// [0, 1, 8, 125, 1000]</span></span><br></pre></td></tr></table></figure>

<p>在 JavaScript 中，可以根据条件来定义一个函数。比如下面的代码，当 <code>num</code> 等于 <code>0</code> 的时候才会定义 <code>myFunc</code>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myFunc;</span><br><span class="line"><span class="keyword">if</span> (num === <span class="number">0</span>) &#123;</span><br><span class="line">  myFunc = <span class="keyword">function</span> (<span class="params">theObject</span>) &#123;</span><br><span class="line">    theObject.<span class="property">make</span> = <span class="string">&quot;Toyota&quot;</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>除了上述的定义函数方法外，你也可以在运行时用 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function"><code>Function</code></a> 构造函数从一个字符串创建一个函数，很像 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/eval"><code>eval()</code></a> 函数。</p>
<p>以上均摘自 我很喜欢的教学网站 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/">MDN</a>。</p>
<h2 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h2><p><strong>箭头函数表达式</strong>的语法比<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/function">函数表达式</a>更简洁，并且没有自己的<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/this"><code>this</code></a>，<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/arguments"><code>arguments</code></a>，<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/super"><code>super</code></a>或<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/new.target"><code>new.target</code></a>。箭头函数表达式更适用于那些本来需要匿名函数的地方，并且它不能用作构造函数。</p>
<h3 id="基础语法"><a href="#基础语法" class="headerlink" title="基础语法"></a>基础语法</h3> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">(param1, param2, …, paramN) =&gt; &#123; statements &#125;</span><br><span class="line"> (param1, param2, …, paramN) =&gt; expression</span><br><span class="line"> <span class="comment">//相当于：(param1, param2, …, paramN) =&gt;&#123; return expression; &#125;</span></span><br><span class="line"> </span><br><span class="line"> <span class="comment">// 当只有一个参数时，圆括号是可选的：</span></span><br><span class="line"> (singleParam) =&gt; &#123; statements &#125;</span><br><span class="line"> singleParam =&gt; &#123; statements &#125;</span><br><span class="line"> </span><br><span class="line"> <span class="comment">// 没有参数的函数应该写成一对圆括号。</span></span><br><span class="line"> () =&gt; &#123; statements &#125;</span><br></pre></td></tr></table></figure>

<h3 id="高级语法"><a href="#高级语法" class="headerlink" title="高级语法"></a>高级语法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//加括号的函数体返回对象字面量表达式：</span></span><br><span class="line">params =&gt; (&#123;<span class="attr">foo</span>: bar&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//支持剩余参数和默认参数</span></span><br><span class="line">(param1, param2, ...rest) =&gt; &#123; statements &#125;</span><br><span class="line">(param1 = defaultValue1, param2, …, paramN = defaultValueN) =&gt; &#123;</span><br><span class="line">statements &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//同样支持参数列表解构</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">f</span> = (<span class="params">[a, b] = [<span class="number">1</span>, <span class="number">2</span>], &#123;x: c&#125; = &#123;x: a + b&#125;</span>) =&gt; a + b + c;</span><br><span class="line"><span class="title function_">f</span>();  <span class="comment">// 6</span></span><br></pre></td></tr></table></figure>

<h3 id="没有单独的this"><a href="#没有单独的this" class="headerlink" title="没有单独的this"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/Arrow_functions#%E6%B2%A1%E6%9C%89%E5%8D%95%E7%8B%AC%E7%9A%84this">没有单独的<code>this</code></a></h3><p>在箭头函数出现之前，每一个新函数根据它是被如何调用的来定义这个函数的 this 值：</p>
<ul>
<li>如果该函数是一个构造函数，this 指针指向一个新的对象</li>
<li>在严格模式下的函数调用下，this 指向<code>undefined</code></li>
<li>如果该函数是一个对象的方法，则它的 this 指针指向这个对象</li>
<li>等等</li>
</ul>
<p><code>This</code>被证明是令人厌烦的面向对象风格的编程。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// Person() 构造函数定义 `this`作为它自己的实例。</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">age</span> = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">setInterval</span>(<span class="keyword">function</span> <span class="title function_">growUp</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 在非严格模式，growUp() 函数定义 `this`作为全局对象，</span></span><br><span class="line">    <span class="comment">// 与在 Person() 构造函数中定义的 `this`并不相同。</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span>++;</span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br></pre></td></tr></table></figure>

<p>在 ECMAScript 3&#x2F;5 中，通过将<code>this</code>值分配给封闭的变量，可以解决<code>this</code>问题。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> that = <span class="variable language_">this</span>;</span><br><span class="line">  that.<span class="property">age</span> = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">setInterval</span>(<span class="keyword">function</span> <span class="title function_">growUp</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 回调引用的是`that`变量，其值是预期的对象。</span></span><br><span class="line">    that.<span class="property">age</span>++;</span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>或者，可以创建<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/bind">绑定函数</a>，以便将预先分配的<code>this</code>值传递到绑定的目标函数（上述示例中的<code>growUp()</code>函数）。</p>
<p>箭头函数不会创建自己的<code>this，它只会从自己的作用域链的上一层继承 this</code>。因此，在下面的代码中，传递给<code>setInterval</code>的函数内的<code>this</code>与封闭函数中的<code>this</code>值相同：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">age</span> = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span>++; <span class="comment">// |this| 正确地指向 p 实例</span></span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br></pre></td></tr></table></figure>

<h4 id="与严格模式的关系"><a href="#与严格模式的关系" class="headerlink" title="与严格模式的关系"></a>与严格模式的关系</h4><p>鉴于 <code>this</code> 是词法层面上的，<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Strict_mode">严格模式</a>中与 <code>this</code> 相关的规则都将被忽略。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title function_">f</span> = (<span class="params"></span>) =&gt; &#123; <span class="string">&#x27;use strict&#x27;</span>; <span class="keyword">return</span> <span class="variable language_">this</span>; &#125;;</span><br><span class="line"><span class="title function_">f</span>() === <span class="variable language_">window</span>; <span class="comment">// 或者 global</span></span><br></pre></td></tr></table></figure>

<p>严格模式的其他规则依然不变。</p>
<h4 id="通过-call-或-apply-调用"><a href="#通过-call-或-apply-调用" class="headerlink" title="通过 call 或 apply 调用"></a>通过 call 或 apply 调用</h4><p>由于 箭头函数没有自己的 this 指针，通过 <code>call()</code> <em>或</em> <code>apply()</code> 方法调用一个函数时，只能传递参数（不能绑定 this—译者注），他们的第一个参数会被忽略。（这种现象对于 bind 方法同样成立 — 译者注）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> adder = &#123;</span><br><span class="line">  <span class="attr">base</span>: <span class="number">1</span>,</span><br><span class="line"></span><br><span class="line">  <span class="attr">add</span>: <span class="keyword">function</span> (<span class="params">a</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> <span class="title function_">f</span> = (<span class="params">v</span>) =&gt; v + <span class="variable language_">this</span>.<span class="property">base</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">f</span>(a);</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="attr">addThruCall</span>: <span class="keyword">function</span> (<span class="params">a</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> <span class="title function_">f</span> = (<span class="params">v</span>) =&gt; v + <span class="variable language_">this</span>.<span class="property">base</span>;</span><br><span class="line">    <span class="keyword">var</span> b = &#123;</span><br><span class="line">      <span class="attr">base</span>: <span class="number">2</span>,</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> f.<span class="title function_">call</span>(b, a);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(adder.<span class="title function_">add</span>(<span class="number">1</span>)); <span class="comment">// 输出 2</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(adder.<span class="title function_">addThruCall</span>(<span class="number">1</span>)); <span class="comment">// 仍然输出 2</span></span><br></pre></td></tr></table></figure>

<h3 id="不绑定arguments"><a href="#不绑定arguments" class="headerlink" title="不绑定arguments"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/Arrow_functions#%E4%B8%8D%E7%BB%91%E5%AE%9Aarguments">不绑定<code>arguments</code></a></h3><p>箭头函数不绑定<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/arguments">Arguments 对象</a>。因此，在本示例中，<code>arguments</code>只是引用了封闭作用域内的 arguments：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable language_">arguments</span> = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> <span class="title function_">arr</span> = (<span class="params"></span>) =&gt; <span class="variable language_">arguments</span>[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line"><span class="title function_">arr</span>(); <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">n</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> <span class="title function_">f</span> = (<span class="params"></span>) =&gt; <span class="variable language_">arguments</span>[<span class="number">0</span>] + n; <span class="comment">// 隐式绑定 foo 函数的 arguments 对象。arguments[0] 是 n，即传给 foo 函数的第一个参数</span></span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">f</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">foo</span>(<span class="number">1</span>); <span class="comment">// 2</span></span><br><span class="line"><span class="title function_">foo</span>(<span class="number">2</span>); <span class="comment">// 4</span></span><br><span class="line"><span class="title function_">foo</span>(<span class="number">3</span>); <span class="comment">// 6</span></span><br><span class="line"><span class="title function_">foo</span>(<span class="number">3</span>, <span class="number">2</span>); <span class="comment">//6</span></span><br></pre></td></tr></table></figure>

<p>在大多数情况下，使用<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/rest_parameters">剩余参数</a>是相较使用<code>arguments</code>对象的更好选择。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">arg</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> <span class="title function_">f</span> = (<span class="params">...args</span>) =&gt; args[<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">f</span>(arg);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">foo</span>(<span class="number">1</span>); <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">arg1, arg2</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> <span class="title function_">f</span> = (<span class="params">...args</span>) =&gt; args[<span class="number">1</span>];</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">f</span>(arg1, arg2);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">foo</span>(<span class="number">1</span>, <span class="number">2</span>); <span class="comment">//2</span></span><br></pre></td></tr></table></figure>

<h3 id="使用箭头函数作为方法"><a href="#使用箭头函数作为方法" class="headerlink" title="使用箭头函数作为方法"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/Arrow_functions#%E4%BD%BF%E7%94%A8%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%E4%BD%9C%E4%B8%BA%E6%96%B9%E6%B3%95">使用箭头函数作为方法</a></h3><p>如上所述，箭头函数表达式对非方法函数是最合适的。让我们看看当我们试着把它们作为方法时发生了什么。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="attr">i</span>: <span class="number">10</span>,</span><br><span class="line">  <span class="attr">b</span>: <span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">i</span>, <span class="variable language_">this</span>),</span><br><span class="line">  <span class="attr">c</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">i</span>, <span class="variable language_">this</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">obj.<span class="title function_">b</span>();</span><br><span class="line"><span class="comment">// undefined, Window&#123;...&#125;</span></span><br><span class="line">obj.<span class="title function_">c</span>();</span><br><span class="line"><span class="comment">// 10, Object &#123;...&#125;</span></span><br></pre></td></tr></table></figure>

<p>箭头函数没有定义 this 绑定。另一个涉及<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty"><code>Object.defineProperty()</code></a>的示例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="number">10</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj, <span class="string">&quot;b&quot;</span>, &#123;</span><br><span class="line">  <span class="attr">get</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span>, <span class="keyword">typeof</span> <span class="variable language_">this</span>.<span class="property">a</span>, <span class="variable language_">this</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">a</span> + <span class="number">10</span>;</span><br><span class="line">    <span class="comment">// 代表全局对象 &#x27;Window&#x27;, 因此 &#x27;this.a&#x27; 返回 &#x27;undefined&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">obj.<span class="property">b</span>; <span class="comment">// undefined   &quot;undefined&quot;   Window &#123;postMessage: ƒ, blur: ƒ, focus: ƒ, close: ƒ, frames: Window, …&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="使用-new-操作符"><a href="#使用-new-操作符" class="headerlink" title="使用 new 操作符"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/Arrow_functions#%E4%BD%BF%E7%94%A8_new_%E6%93%8D%E4%BD%9C%E7%AC%A6">使用 <code>new</code> 操作符</a></h3><p>箭头函数不能用作构造器，和 <code>new</code>一起用会抛出错误。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title function_">Foo</span> = (<span class="params"></span>) =&gt; &#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> foo = <span class="keyword">new</span> <span class="title class_">Foo</span>(); <span class="comment">// TypeError: Foo is not a constructor</span></span><br></pre></td></tr></table></figure>

<h3 id="使用prototype属性"><a href="#使用prototype属性" class="headerlink" title="使用prototype属性"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/Arrow_functions#%E4%BD%BF%E7%94%A8prototype%E5%B1%9E%E6%80%A7">使用<code>prototype</code>属性</a></h3><p>箭头函数没有<code>prototype</code>属性。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title function_">Foo</span> = (<span class="params"></span>) =&gt; &#123;&#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Foo</span>.<span class="property"><span class="keyword">prototype</span></span>); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>

<h3 id="使用-yield-关键字"><a href="#使用-yield-关键字" class="headerlink" title="使用 yield 关键字"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/Arrow_functions#%E4%BD%BF%E7%94%A8_yield_%E5%85%B3%E9%94%AE%E5%AD%97">使用 <code>yield</code> 关键字</a></h3><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/yield"><code>yield</code></a> 关键字通常不能在箭头函数中使用（除非是嵌套在允许使用的函数内）。因此，箭头函数不能用作函数生成器。</p>
<h2 id="函数体"><a href="#函数体" class="headerlink" title="函数体"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/Arrow_functions#%E5%87%BD%E6%95%B0%E4%BD%93">函数体</a></h2><p>箭头函数可以有一个“简写体”或常见的“块体”。</p>
<p>在一个简写体中，只需要一个表达式，并附加一个隐式的返回值。在块体中，必须使用明确的<code>return</code>语句。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title function_">func</span> = (<span class="params">x</span>) =&gt; x * x;</span><br><span class="line"><span class="comment">// 简写函数 省略 return</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title function_">func</span> = (<span class="params">x, y</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//常规编写 明确的返回值</span></span><br></pre></td></tr></table></figure>

<h2 id="返回对象字面量"><a href="#返回对象字面量" class="headerlink" title="返回对象字面量"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/Arrow_functions#%E8%BF%94%E5%9B%9E%E5%AF%B9%E8%B1%A1%E5%AD%97%E9%9D%A2%E9%87%8F">返回对象字面量</a></h2><p>记住用<code>params =&gt; &#123;object:literal&#125;</code>这种简单的语法返回对象字面量是行不通的。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title function_">func</span> = (<span class="params"></span>) =&gt; &#123; <span class="attr">foo</span>: <span class="number">1</span> &#125;;</span><br><span class="line"><span class="comment">// Calling func() returns undefined!</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title function_">func</span> = (<span class="params"></span>) =&gt; &#123; <span class="attr">foo</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;&#125; &#125;;</span><br><span class="line"><span class="comment">// SyntaxError: function statement requires a name</span></span><br></pre></td></tr></table></figure>

<p>这是因为花括号（<code>&#123;&#125;</code> ）里面的代码被解析为一系列语句（即 <code>foo</code> 被认为是一个标签，而非对象字面量的组成部分）。</p>
<p>所以，记得用圆括号把对象字面量包起来：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var func = () =&gt; (&#123; foo: 1 &#125;);</span><br></pre></td></tr></table></figure>

<h2 id="换行"><a href="#换行" class="headerlink" title="换行"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/Arrow_functions#%E6%8D%A2%E8%A1%8C">换行</a></h2><p>箭头函数在参数和箭头之间不能换行。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var func = ()</span><br><span class="line">           =&gt; 1;</span><br><span class="line">// SyntaxError: expected expression, got &#x27;=&gt;&#x27;</span><br></pre></td></tr></table></figure>

<p>但是，可以通过在‘&#x3D;&gt;’之后换行，或者用‘( )’、’{ }’来实现换行，如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title function_">func</span> = (<span class="params">a, b, c</span>) =&gt; <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title function_">func</span> = (<span class="params">a, b, c</span>) =&gt; <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title function_">func</span> = (<span class="params">a, b, c</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title function_">func</span> = (<span class="params">a, b, c</span>) =&gt; <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 不会有语法错误</span></span><br></pre></td></tr></table></figure>

<h2 id="解析顺序"><a href="#解析顺序" class="headerlink" title="解析顺序"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/Arrow_functions#%E8%A7%A3%E6%9E%90%E9%A1%BA%E5%BA%8F">解析顺序</a></h2><p>虽然箭头函数中的箭头不是运算符，但箭头函数具有与常规函数不同的特殊<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Operator_precedence">运算符优先级</a>解析规则。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> callback;</span><br><span class="line"></span><br><span class="line">callback = callback || <span class="keyword">function</span>(<span class="params"></span>) &#123;&#125;; <span class="comment">// ok</span></span><br><span class="line"></span><br><span class="line">callback = callback || <span class="function">() =&gt;</span> &#123;&#125;;</span><br><span class="line"><span class="comment">// SyntaxError: invalid arrow-function arguments</span></span><br><span class="line"></span><br><span class="line">callback = callback || (<span class="function">() =&gt;</span> &#123;&#125;);    <span class="comment">// ok</span></span><br></pre></td></tr></table></figure>

<p>更多相关内容请前往 MDN 进行查阅和学习。</p>
<h3 id="Object（对象）"><a href="#Object（对象）" class="headerlink" title="Object（对象）"></a>Object（对象）</h3><p><strong><code>Object</code></strong> 是 JavaScript 的一种<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Data_structures">数据类型</a>。它用于存储各种键值集合和更复杂的实体。可以通过 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/Object"><code>Object()</code></a> 构造函数或者使用<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Object_initializer">对象字面量</a>的方式创建对象。</p>
<h2 id="描述"><a href="#描述" class="headerlink" title="描述"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object#%E6%8F%8F%E8%BF%B0">描述</a></h2><p>在 JavaScript 中，几乎所有的<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Data_structures#object">对象</a>都是 <code>Object</code> 的实例；一个典型的对象从 <code>Object.prototype</code> 继承属性（包括方法），尽管这些属性可能被覆盖（或者说重写）。唯一不从 <code>Object.prototype</code> 继承的对象是那些 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object#null_%E5%8E%9F%E5%9E%8B%E5%AF%B9%E8%B1%A1"><code>null</code> 原型对象</a>，或者是从其他 <code>null</code> 原型对象继承而来的对象。</p>
<p>通过原型链，<strong>所有</strong>对象都能观察到 <code>Object.prototype</code> 对象的改变，除非这些改变所涉及的属性和方法沿着原型链被进一步重写。尽管有潜在的危险，但这为覆盖或扩展对象的行为提供了一个非常强大的机制。为了使其更加安全，<code>Object.prototype</code> 是核心 JavaScript 语言中唯一具有<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf#%E6%8F%8F%E8%BF%B0">不可变原型</a>的对象——<code>Object.prototype</code> 的原型始终为 <code>null</code> 且不可更改。</p>
<h3 id="对象原型属性"><a href="#对象原型属性" class="headerlink" title="对象原型属性"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object#%E5%AF%B9%E8%B1%A1%E5%8E%9F%E5%9E%8B%E5%B1%9E%E6%80%A7">对象原型属性</a></h3><p>你应该避免调用任何 <code>Object.prototype</code> 方法，特别是那些不打算多态化的方法（即只有其初始行为是合理的，且无法被任何继承的对象以合理的方式重写）。所有从 <code>Object.prototype</code> 继承的对象都可以自定义一个具有相同名称但语义可能与你的预期完全不同的自有属性。此外，这些属性不会被 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object#null_%E5%8E%9F%E5%9E%8B%E5%AF%B9%E8%B1%A1"><code>null</code> 原型对象</a>继承。现代 JavaScript 中用于操作对象的工具方法都是<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object#%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95">静态的</a>。更具体地说：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/valueOf"><code>valueOf()</code></a>、<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/toString"><code>toString()</code></a> 和 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/toLocaleString"><code>toLocaleString()</code></a> 存在的目的是为了多态化，你应该期望对象会定义自己的实现并具有合理的行为，因此你可以将它们作为实例方法调用。但是，<code>valueOf()</code> 和 <code>toString()</code> 通常是通过<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Data_structures#%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2">强制类型转换</a>隐式调用的，因此你不需要在代码中自己调用它们。</li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/__defineGetter__"><code>__defineGetter__()</code></a>、<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/__defineSetter__"><code>__defineSetter__()</code></a>、<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/__lookupGetter__"><code>__lookupGetter__()</code></a> 和 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/__lookupSetter__"><code>__lookupSetter__()</code></a> 已被弃用，不应该再使用。请使用静态方法 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty"><code>Object.defineProperty()</code></a> 和 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor"><code>Object.getOwnPropertyDescriptor()</code></a> 作为替代。</li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/proto"><code>__proto__</code></a> 属性已被弃用，不应该再使用。请使用静态方法 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/getPrototypeOf"><code>Object.getPrototypeOf()</code></a> 和 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf"><code>Object.setPrototypeOf()</code></a> 作为替代。</li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/propertyIsEnumerable"><code>propertyIsEnumerable()</code></a> 和 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty"><code>hasOwnProperty()</code></a> 方法可以分别用静态方法 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor"><code>Object.getOwnPropertyDescriptor()</code></a> 和 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwn"><code>Object.hasOwn()</code></a> 替换。</li>
<li>如果你正在检查一个构造函数的 <code>prototype</code> 属性，通常可以用 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/instanceof"><code>instanceof</code></a> 代替 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/isPrototypeOf"><code>isPrototypeOf()</code></a> 方法。</li>
</ul>
<p>如果不存在语义上等价的静态方法，或者你真的想使用 <code>Object.prototype</code> 方法，你应该通过 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/call"><code>call()</code></a> 直接在目标对象上调用 <code>Object.prototype</code> 方法，以防止因目标对象上原有方法被重写而产生意外的结果。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">foo</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="comment">// 如果可能的话，你不应该在自己的对象上定义这样的方法，</span></span><br><span class="line">  <span class="comment">// 但是如果你从外部输入接收对象，可能无法防止这种情况的发生</span></span><br><span class="line">  <span class="title function_">propertyIsEnumerable</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">obj.<span class="title function_">propertyIsEnumerable</span>(<span class="string">&quot;foo&quot;</span>); <span class="comment">// false；预期外的结果</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">propertyIsEnumerable</span>.<span class="title function_">call</span>(obj, <span class="string">&quot;foo&quot;</span>); <span class="comment">// true；预期的结果</span></span><br></pre></td></tr></table></figure>

<h3 id="从对象中删除属性"><a href="#从对象中删除属性" class="headerlink" title="从对象中删除属性"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object#%E4%BB%8E%E5%AF%B9%E8%B1%A1%E4%B8%AD%E5%88%A0%E9%99%A4%E5%B1%9E%E6%80%A7">从对象中删除属性</a></h3><p>一个对象本身没有任何方法可以（像 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Map/delete"><code>Map.prototype.delete()</code></a> 一样）删除自己的属性。要删除一个对象的属性，必须使用 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/delete">delete 运算符</a>。</p>
<h3 id="null-原型对象"><a href="#null-原型对象" class="headerlink" title="null 原型对象"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object#null_%E5%8E%9F%E5%9E%8B%E5%AF%B9%E8%B1%A1">null 原型对象</a></h3><p>几乎所有的 JavaScript 对象最终都继承自 <code>Object.prototype</code>（参见<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Inheritance_and_the_prototype_chain">继承和原型链</a>）。然而，你可以使用 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/create"><code>Object.create(null)</code></a> 或定义了 <code>__proto__: null</code> 的<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Object_initializer">对象字面量语法</a>（注意：对象字面量中的 <code>__proto__</code> 键不同于已弃用的 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/proto"><code>Object.prototype.__proto__</code></a> 属性）来创建 <code>null</code> 原型对象。你还可以通过调用 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf"><code>Object.setPrototypeOf(obj, null)</code></a> 将现有对象的原型更改为 <code>null</code>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const obj = Object.create(null);</span><br><span class="line">const obj2 = &#123; __proto__: null &#125;;</span><br></pre></td></tr></table></figure>

<p><code>null</code> 原型对象可能会有一些预期外的行为表现，因为它不会从 <code>Object.prototype</code> 继承任何对象方法。这在调试时尤其需要注意，因为常见的对象属性转换&#x2F;检测实用方法可能会产生错误或丢失信息（特别是在使用了忽略错误的静默错误捕获机制的情况下）。</p>
<p>例如，<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/toString"><code>Object.prototype.toString()</code></a> 方法的缺失通常会使得调试变得困难：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> normalObj = &#123;&#125;; <span class="comment">// 创建一个普通对象</span></span><br><span class="line"><span class="keyword">const</span> nullProtoObj = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="literal">null</span>); <span class="comment">// 创建一个 &quot;null&quot; 原型对象</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`normalObj 是：<span class="subst">$&#123;normalObj&#125;</span>`</span>); <span class="comment">// 显示 &quot;normalObj 是：[object Object]&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`nullProtoObj 是：<span class="subst">$&#123;nullProtoObj&#125;</span>`</span>); <span class="comment">// 抛出错误：Cannot convert object to primitive value</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>(normalObj); <span class="comment">// 显示 [object Object]</span></span><br><span class="line"><span class="title function_">alert</span>(nullProtoObj); <span class="comment">// 抛出错误：Cannot convert object to primitive value</span></span><br></pre></td></tr></table></figure>

<p>其他方法也会失败。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">normalObj.<span class="title function_">valueOf</span>(); <span class="comment">// 显示 &#123;&#125;</span></span><br><span class="line">nullProtoObj.<span class="title function_">valueOf</span>(); <span class="comment">// 抛出错误：nullProtoObj.valueOf is not a function</span></span><br><span class="line"></span><br><span class="line">normalObj.<span class="title function_">hasOwnProperty</span>(<span class="string">&quot;p&quot;</span>); <span class="comment">// 显示 &quot;true&quot;</span></span><br><span class="line">nullProtoObj.<span class="title function_">hasOwnProperty</span>(<span class="string">&quot;p&quot;</span>); <span class="comment">// 抛出错误：nullProtoObj.hasOwnProperty is not a function</span></span><br><span class="line"></span><br><span class="line">normalObj.<span class="property">constructor</span>; <span class="comment">// 显示 &quot;Object() &#123; [native code] &#125;&quot;</span></span><br><span class="line">nullProtoObj.<span class="property">constructor</span>; <span class="comment">// 显示 &quot;undefined&quot;</span></span><br></pre></td></tr></table></figure>

<p>我们可以通过为 <code>null</code> 原型对象分配属性的方式将 <code>toString</code> 方法添加回去：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nullProtoObj.<span class="property">toString</span> = <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>; <span class="comment">// 由于新对象缺少 `toString` 方法，因此需要将原始的通用 `toString` 方法添加回来。</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(nullProtoObj.<span class="title function_">toString</span>()); <span class="comment">// 显示 &quot;[object Object]&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`nullProtoObj 是：<span class="subst">$&#123;nullProtoObj&#125;</span>`</span>); <span class="comment">// 显示 &quot;nullProtoObj 是：[object Object]&quot;</span></span><br></pre></td></tr></table></figure>

<p>普通对象的 <code>toString()</code> 方法是在对象的原型上的，而与普通对象不同的是，这里的 <code>toString()</code> 方法是 <code>nullProtoObj</code> 的自有属性。这是因为 <code>nullProtoObj</code> 没有原型（即为 <code>null</code>）。</p>
<p>在实践中，<code>null</code> 原型对象通常被用作 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Map">map</a> 的简单替代品。由于存在 <code>Object.prototype</code> 属性，会导致一些错误：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ages = &#123; <span class="attr">alice</span>: <span class="number">18</span>, <span class="attr">bob</span>: <span class="number">27</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">hasPerson</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> name <span class="keyword">in</span> ages;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getAge</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> ages[name];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">hasPerson</span>(<span class="string">&quot;hasOwnProperty&quot;</span>); <span class="comment">// true</span></span><br><span class="line"><span class="title function_">getAge</span>(<span class="string">&quot;toString&quot;</span>); <span class="comment">// [Function: toString]</span></span><br></pre></td></tr></table></figure>

<p>使用一个 <code>null</code> 原型对象可以消除这种风险，同时不会令 <code>hasPerson</code> 和 <code>getAge</code> 函数变得复杂：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ages = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="literal">null</span>, &#123;</span><br><span class="line">  <span class="attr">alice</span>: &#123; <span class="attr">value</span>: <span class="number">18</span>, <span class="attr">enumerable</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">  <span class="attr">bob</span>: &#123; <span class="attr">value</span>: <span class="number">27</span>, <span class="attr">enumerable</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title function_">hasPerson</span>(<span class="string">&quot;hasOwnProperty&quot;</span>); <span class="comment">// false</span></span><br><span class="line"><span class="title function_">getAge</span>(<span class="string">&quot;toString&quot;</span>); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>

<p>在这种情况下，添加任何方法都应该慎重，因为它们可能会与存储为数据的其他键值对混淆。</p>
<p>让你的对象不继承自 <code>Object.prototype</code> 还可以防止原型污染攻击。如果恶意脚本向 <code>Object.prototype</code> 添加一个属性，程序中的每个对象上都可访问它，除了那些原型为 <code>null</code> 的对象。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> user = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 恶意脚本：</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">authenticated</span> = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 意外允许未经身份验证的用户通过</span></span><br><span class="line"><span class="keyword">if</span> (user.<span class="property">authenticated</span>) &#123;</span><br><span class="line">  <span class="comment">// 访问机密数据</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>JavaScript 还具有内置的 API，用于生成 <code>null</code> 原型对象，特别是那些将对象用作临时键值对集合的 API。例如：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/groupBy"><code>Object.groupBy()</code></a> 方法的返回值</li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/exec"><code>RegExp.prototype.exec()</code></a> 方法返回结果中的 <code>groups</code> 和 <code>indices.groups</code> 属性</li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/@@unscopables"><code>Array.prototype[@@unscopables]</code></a> 属性（所有 <code>@@unscopables</code> 对象原型都应该为 <code>null</code>）</li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/import.meta"><code>import.meta</code></a> 对象</li>
<li>通过 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/import#%E5%AF%BC%E5%85%A5%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><code>import * as ns from &quot;module&quot;</code></a> 或 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/import"><code>import()</code> (en-US)</a> 获取的模块命名空间对象</li>
</ul>
<p>“<code>null</code> 原型对象”这个术语通常也包括其原型链中没有 <code>Object.prototype</code> 的任何对象。当使用类时，可以通过 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Classes/extends#%E6%89%A9%E5%B1%95_null"><code>extends null</code></a> 来创建这样的对象。</p>
<h3 id="对象强制转换"><a href="#对象强制转换" class="headerlink" title="对象强制转换"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object#%E5%AF%B9%E8%B1%A1%E5%BC%BA%E5%88%B6%E8%BD%AC%E6%8D%A2">对象强制转换</a></h3><p>许多内置操作首先将它们的参数强制转换为对象。<a target="_blank" rel="noopener" href="https://tc39.es/ecma262/#sec-toobject">该过程</a>可以概括如下：</p>
<ul>
<li>对象则按原样返回。</li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/undefined"><code>undefined</code></a> 和 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/null"><code>null</code></a> 则抛出 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/TypeError"><code>TypeError</code></a>。</li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number"><code>Number</code></a>、<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String"><code>String</code></a>、<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><code>Boolean</code></a>、<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol"><code>Symbol</code></a>、<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/BigInt"><code>BigInt</code></a> 等基本类型被封装成其对应的基本类型对象。</li>
</ul>
<p>在 JavaScript 中实现相同效果的最佳方式是使用 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/Object"><code>Object()</code></a> 构造函数。<code>Object(x)</code> 可以将 <code>x</code> 转换为对象，对于 <code>undefined</code> 或 <code>null</code>，它会返回一个普通对象而不是抛出 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/TypeError"><code>TypeError</code></a> 异常。</p>
<p>使用对象强制转换的地方包括：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/for...in"><code>for...in</code></a> 循环的 <code>object</code> 参数。</li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array"><code>Array</code></a> 方法的 <code>this</code> 值。</li>
<li><code>Object</code> 方法的参数，如 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/keys"><code>Object.keys()</code></a>。</li>
<li>当访问基本类型的属性时进行自动转换，因为基本类型没有属性。</li>
<li>在调用非严格函数时的 <code>this</code> 值。基本类型值被封装为对象，而 <code>null</code> 和 <code>undefined</code> 被替换为<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/Global_object">全局对象</a>。</li>
</ul>
<p>与<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Data_structures#%E5%BC%BA%E5%88%B6%E5%8E%9F%E5%A7%8B%E5%80%BC%E8%BD%AC%E6%8D%A2">转换为基本类型</a>不同，对象强制转换过程本身无法以任何方式被观察到，因为它不会调用像 <code>toString</code> 或 <code>valueOf</code> 方法这样的自定义代码。</p>
<h2 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0">构造函数</a></h2><ul>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/Object"><code>Object()</code></a></p>
<p>​    将输入转换为一个对象。</p>
</li>
</ul>
<h2 id="静态方法"><a href="#静态方法" class="headerlink" title="静态方法"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object#%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95">静态方法</a></h2><ul>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/assign"><code>Object.assign()</code></a></p>
<p>​    将一个或多个源对象的所有可枚举自有属性的值复制到目标对象中。  </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/create"><code>Object.create()</code></a></p>
<p>​    使用指定的原型对象和属性创建一个新对象。  </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties"><code>Object.defineProperties()</code></a></p>
<p>​    向对象添加多个由给定描述符描述的命名属性。  </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty"><code>Object.defineProperty()</code></a></p>
<p>​    向对象添加一个由给定描述符描述的命名属性。  </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/entries"><code>Object.entries()</code></a></p>
<p>​    返回包含给定对象<strong>自有</strong>可枚举字符串属性的所有 <code>[key, value]</code> 数组。  </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze"><code>Object.freeze()</code></a></p>
<p>​    冻结一个对象。其他代码不能删除或更改其任何属性。  </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/fromEntries"><code>Object.fromEntries()</code></a></p>
<p>​    从一个包含 <code>[key, value]</code> 对的可迭代对象中返回一个新的对象（<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/entries"><code>Object.entries</code></a> 的反操作）。  </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor"><code>Object.getOwnPropertyDescriptor()</code></a></p>
<p>​    返回一个对象的已命名属性的属性描述符。  </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptors"><code>Object.getOwnPropertyDescriptors()</code></a></p>
<p>​    返回一个包含对象所有自有属性的属性描述符的对象。  </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyNames"><code>Object.getOwnPropertyNames()</code></a></p>
<p>​    返回一个包含给定对象的所有<strong>自有</strong>可枚举和不可枚举属性名称的数组。  </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertySymbols"><code>Object.getOwnPropertySymbols()</code></a></p>
<p>​    返回一个数组，它包含了指定对象所有自有 symbol 属性。  </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/getPrototypeOf"><code>Object.getPrototypeOf()</code></a></p>
<p>​    返回指定对象的原型（内部的 <code>[[Prototype]]</code> 属性）。  </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwn"><code>Object.hasOwn()</code></a></p>
<p>​    如果指定属性是指定对象的自有属性，则返回 <code>true</code>，否则返回 <code>false</code>。如果该属性是继承的或不存在，则返回 <code>false</code>。  </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/is"><code>Object.is()</code></a></p>
<p>​    比较两个值是否相同。所有 <code>NaN</code> 值都相等（这与 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Equality"><code>==</code></a> 使用的 <code>IsLooselyEqual</code> 和 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Strict_equality"><code>===</code></a> 使用的 <code>IsStrictlyEqual</code> 不同）。  </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/isExtensible"><code>Object.isExtensible()</code></a></p>
<p>​    判断对象是否可扩展。  </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/isFrozen"><code>Object.isFrozen()</code></a></p>
<p>​    判断对象是否已经冻结。  </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/isSealed"><code>Object.isSealed()</code></a></p>
<p>​    判断对象是否已经封闭。  </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/keys"><code>Object.keys()</code></a></p>
<p>​    返回一个包含所有给定对象<strong>自有</strong>可枚举字符串属性名称的数组。  </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/preventExtensions"><code>Object.preventExtensions()</code></a></p>
<p>​    防止对象的任何扩展。  </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/seal"><code>Object.seal()</code></a></p>
<p>​    防止其他代码删除对象的属性。  </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf"><code>Object.setPrototypeOf()</code></a></p>
<p>​    设置对象的原型（即内部 <code>[[Prototype]]</code> 属性）。  </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/values"><code>Object.values()</code></a></p>
<p>​    返回包含给定对象所有<strong>自有</strong>可枚举字符串属性的值的数组。</p>
</li>
</ul>
<h2 id="实例属性"><a href="#实例属性" class="headerlink" title="实例属性"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object#%E5%AE%9E%E4%BE%8B%E5%B1%9E%E6%80%A7">实例属性</a></h2><p>这些属性在 <code>Object.prototype</code> 上定义，被所有 <code>Object</code> 实例所共享。</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/proto"><code>Object.prototype.__proto__</code></a>   已弃用</p>
<p>​    指向实例对象在实例化时使用的原型对象。  </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/constructor"><code>Object.prototype.constructor</code></a></p>
<p>​    创建该实例对象的构造函数。对于普通的 <code>Object</code> 实例，初始值为 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/Object"><code>Object</code></a> 构造函数。其它构造函数的实例都会从它们各自的 <code>Constructor.prototype</code> 对象中继承 <code>constructor</code> 属性。</p>
</li>
</ul>
<h2 id="实例方法"><a href="#实例方法" class="headerlink" title="实例方法"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object#%E5%AE%9E%E4%BE%8B%E6%96%B9%E6%B3%95">实例方法</a></h2><ul>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/__defineGetter__"><code>Object.prototype.__defineGetter__()</code></a>   已弃用</p>
<p>​    将一个属性与一个函数相关联，当该属性被访问时，执行该函数，并且返回函数的返回值。  </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/__defineSetter__"><code>Object.prototype.__defineSetter__()</code></a>   已弃用</p>
<p>​    将一个属性与一个函数相关联，当该属性被设置时，执行该函数，执行该函数去修改某个属性。  </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/__lookupGetter__"><code>Object.prototype.__lookupGetter__()</code></a>   已弃用</p>
<p>​    返回绑定在指定属性上的 getter 函数。  </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/__lookupSetter__"><code>Object.prototype.__lookupSetter__()</code></a>   已弃用</p>
<p>​    返回绑定在指定属性上的 setter 函数。  </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty"><code>Object.prototype.hasOwnProperty()</code></a></p>
<p>​    返回一个布尔值，用于表示一个对象自身是否包含指定的属性，该方法并不会查找原型链上继承来的属性。  </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/isPrototypeOf"><code>Object.prototype.isPrototypeOf()</code></a></p>
<p>​    返回一个布尔值，用于表示该方法所调用的对象是否在指定对象的原型链中。  </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/propertyIsEnumerable"><code>Object.prototype.propertyIsEnumerable()</code></a></p>
<p>​    返回一个布尔值，指示指定属性是否是对象的<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Enumerability_and_ownership_of_properties">可枚举自有属性</a>。  </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/toLocaleString"><code>Object.prototype.toLocaleString()</code></a></p>
<p>​    调用 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/toString"><code>toString()</code></a> 方法。  </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/toString"><code>Object.prototype.toString()</code></a></p>
<p>​    返回一个代表该对象的字符串。  </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/valueOf"><code>Object.prototype.valueOf()</code></a></p>
<p>​    返回指定对象的基本类型值。</p>
</li>
</ul>
<h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object#%E7%A4%BA%E4%BE%8B">示例</a></h2><h3 id="构造空对象"><a href="#构造空对象" class="headerlink" title="构造空对象"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object#%E6%9E%84%E9%80%A0%E7%A9%BA%E5%AF%B9%E8%B1%A1">构造空对象</a></h3><p>以下示例使用带有不同参数的 <code>new</code> 关键字创建空对象：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> o1 = <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line"><span class="keyword">const</span> o2 = <span class="keyword">new</span> <span class="title class_">Object</span>(<span class="literal">undefined</span>);</span><br><span class="line"><span class="keyword">const</span> o3 = <span class="keyword">new</span> <span class="title class_">Object</span>(<span class="literal">null</span>);</span><br></pre></td></tr></table></figure>

<h3 id="使用-Object-生成布尔对象"><a href="#使用-Object-生成布尔对象" class="headerlink" title="使用 Object 生成布尔对象"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object#%E4%BD%BF%E7%94%A8_object_%E7%94%9F%E6%88%90%E5%B8%83%E5%B0%94%E5%AF%B9%E8%B1%A1">使用 <code>Object</code> 生成布尔对象</a></h3><p>下面的例子将 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><code>Boolean</code></a> 对象存到 <code>o</code> 中：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 等价于 const o = new Boolean(true);</span></span><br><span class="line"><span class="keyword">const</span> o = <span class="keyword">new</span> <span class="title class_">Object</span>(<span class="literal">true</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 等价于 const o = new Boolean(false);</span></span><br><span class="line"><span class="keyword">const</span> o = <span class="keyword">new</span> <span class="title class_">Object</span>(<span class="title class_">Boolean</span>());</span><br></pre></td></tr></table></figure>

<h1 id="Array-数组"><a href="#Array-数组" class="headerlink" title="Array(数组)"></a>Array(数组)</h1><p>与其他编程语言中的数组一样，**<code>Array</code>** 对象支持<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/First_steps/Arrays">在单个变量名下存储多个元素</a>，并具有<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array#%E7%A4%BA%E4%BE%8B">执行常见数组操作</a>的成员。</p>
<h2 id="描述-1"><a href="#描述-1" class="headerlink" title="描述"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array#%E6%8F%8F%E8%BF%B0">描述</a></h2><p>在 JavaScript 中，数组不是<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/Primitive">基本类型</a>，而是具有以下核心特征的 <code>Array</code> 对象：</p>
<ul>
<li>**JavaScript 数组是可调整大小的，并且可以包含不同的<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Data_structures">数据类型</a>**。（当不需要这些特征时，可以使用<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Typed_arrays">类型化数组</a>。）</li>
<li><strong>JavaScript 数组不是关联数组</strong>，因此，不能使用任意字符串作为索引访问数组元素，但必须使用非负整数（或它们各自的字符串形式）作为索引访问。</li>
<li>**JavaScript 数组的<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/zh-cn/%E5%BE%9E%E9%9B%B6%E9%96%8B%E5%A7%8B%E7%9A%84%E7%B7%A8%E8%99%9F">索引从 0 开始</a>**：数组的第一个元素在索引 <code>0</code> 处，第二个在索引 <code>1</code> 处，以此类推，最后一个元素是数组的 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/length"><code>length</code></a> 属性减去 <code>1</code> 的值。</li>
<li>**JavaScript <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array#%E5%A4%8D%E5%88%B6%E6%95%B0%E7%BB%84">数组复制操作</a>创建<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/Shallow_copy">浅拷贝</a>*<em>。（</em>所有* JavaScript 对象的标准内置复制操作都会创建浅拷贝，而不是<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/Deep_copy">深拷贝</a>）。</li>
</ul>
<h3 id="数组下标"><a href="#数组下标" class="headerlink" title="数组下标"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array#%E6%95%B0%E7%BB%84%E4%B8%8B%E6%A0%87">数组下标</a></h3><p><code>Array</code> 对象不能使用任意字符串作为元素索引（如<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%85%B3%E8%81%94%E6%95%B0%E7%BB%84">关联数组</a>），必须使用非负整数（或它们的字符串形式）。通过非整数设置或访问不会设置或从数组列表本身检索元素，但会设置或访问与该数组的<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Data_structures#%E5%B1%9E%E6%80%A7">对象属性集合</a>相关的变量。数组的对象属性和数组元素列表是分开的，数组的<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Indexed_collections#%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95">遍历和修改操作</a>不能应用于这些命名属性。</p>
<p>数组元素是对象属性，就像 <code>toString</code> 是属性一样（具体来说，<code>toString()</code> 是一种方法）。然而，尝试按以下方式访问数组的元素会抛出语法错误，因为属性名无效：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr<span class="number">.0</span>); <span class="comment">// 语法错误</span></span><br></pre></td></tr></table></figure>

<p>JavaScript 语法要求使用<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Working_with_objects#%E5%AF%B9%E8%B1%A1%E5%92%8C%E5%B1%9E%E6%80%A7">方括号表示法</a>而不是<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Property_accessors">点号表示法</a>来访问以数字开头的属性。也可以用引号包裹数组下标（例如，<code>years[&#39;2&#39;]</code> 而不是 <code>years[2]</code>），尽管通常没有必要。</p>
<p>JavaScript 引擎通过隐式的 <code>toString</code>，将 <code>years[2]</code> 中的 <code>2</code> 强制转换为字符串。因此，<code>&#39;2&#39;</code> 和 <code>&#39;02&#39;</code> 将指向 <code>years</code> 对象上的两个不同的槽位，下面的例子可能是 <code>true</code>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(years[<span class="string">&quot;2&quot;</span>] !== years[<span class="string">&quot;02&quot;</span>]);</span><br></pre></td></tr></table></figure>

<p>只有 <code>years[&#39;2&#39;]</code> 是一个实际的数组索引。<code>years[&#39;02&#39;]</code> 是一个在数组迭代中不会被访问的任意字符串属性。</p>
<h3 id="长度与数值属性的关系"><a href="#长度与数值属性的关系" class="headerlink" title="长度与数值属性的关系"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array#%E9%95%BF%E5%BA%A6%E4%B8%8E%E6%95%B0%E5%80%BC%E5%B1%9E%E6%80%A7%E7%9A%84%E5%85%B3%E7%B3%BB">长度与数值属性的关系</a></h3><p>JavaScript 数组的 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/length"><code>length</code></a> 属性和数值属性是连接的。</p>
<p>一些内置数组方法（例如 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/join"><code>join()</code></a>、<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/slice"><code>slice()</code></a>、<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf"><code>indexOf()</code></a> 等）在被调用时会考虑到数组的 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/length"><code>length</code></a> 属性的值。</p>
<p>其他方法（例如，<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/push"><code>push()</code></a>、<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/splice"><code>splice()</code></a> 等）也会更新数组的 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/length"><code>length</code></a> 属性。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fruits = [];</span><br><span class="line">fruits.<span class="title function_">push</span>(<span class="string">&quot;banana&quot;</span>, <span class="string">&quot;apple&quot;</span>, <span class="string">&quot;peach&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fruits.<span class="property">length</span>); <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>

<p>当在 JavaScript 数组上设置一个属性时，如果该属性是一个有效的数组索引并且该索引在数组的当前边界之外，引擎将相应地更新数组的 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/length"><code>length</code></a> 属性：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">fruits[<span class="number">5</span>] = <span class="string">&quot;mango&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fruits[<span class="number">5</span>]); <span class="comment">// &#x27;mango&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">keys</span>(fruits)); <span class="comment">// [&#x27;0&#x27;, &#x27;1&#x27;, &#x27;2&#x27;, &#x27;5&#x27;]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fruits.<span class="property">length</span>); <span class="comment">// 6</span></span><br></pre></td></tr></table></figure>

<p>增加 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/length"><code>length</code></a>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fruits.<span class="property">length</span> = <span class="number">10</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fruits); <span class="comment">// [&#x27;banana&#x27;, &#x27;apple&#x27;, &#x27;peach&#x27;, empty x 2, &#x27;mango&#x27;, empty x 4]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">keys</span>(fruits)); <span class="comment">// [&#x27;0&#x27;, &#x27;1&#x27;, &#x27;2&#x27;, &#x27;5&#x27;]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fruits.<span class="property">length</span>); <span class="comment">// 10</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fruits[<span class="number">8</span>]); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>

<p>但是，减少 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/length"><code>length</code></a> 属性会删除元素。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fruits.<span class="property">length</span> = <span class="number">2</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">keys</span>(fruits)); <span class="comment">// [&#x27;0&#x27;, &#x27;1&#x27;]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fruits.<span class="property">length</span>); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<p>这将在 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/length"><code>Array/length</code></a> 页中进一步解释</p>
<h1 id="解构赋值"><a href="#解构赋值" class="headerlink" title="解构赋值"></a>解构赋值</h1><p><strong>解构赋值</strong>语法是一种 Javascript 表达式。可以将数组中的值或对象的属性取出，赋值给其他变量。</p>
<h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#%E8%AF%AD%E6%B3%95">语法</a></h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [a, b] = array;</span><br><span class="line"><span class="keyword">const</span> [a, , b] = array;</span><br><span class="line"><span class="keyword">const</span> [a = aDefault, b] = array;</span><br><span class="line"><span class="keyword">const</span> [a, b, ...rest] = array;</span><br><span class="line"><span class="keyword">const</span> [a, , b, ...rest] = array;</span><br><span class="line"><span class="keyword">const</span> [a, b, ...&#123; pop, push &#125;] = array;</span><br><span class="line"><span class="keyword">const</span> [a, b, ...[c, d]] = array;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; a, b &#125; = obj;</span><br><span class="line"><span class="keyword">const</span> &#123; <span class="attr">a</span>: a1, <span class="attr">b</span>: b1 &#125; = obj;</span><br><span class="line"><span class="keyword">const</span> &#123; <span class="attr">a</span>: a1 = aDefault, b = bDefault &#125; = obj;</span><br><span class="line"><span class="keyword">const</span> &#123; a, b, ...rest &#125; = obj;</span><br><span class="line"><span class="keyword">const</span> &#123; <span class="attr">a</span>: a1, <span class="attr">b</span>: b1, ...rest &#125; = obj;</span><br><span class="line"><span class="keyword">const</span> &#123; [key]: a &#125; = obj;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a, b, a1, b1, c, d, rest, pop, push;</span><br><span class="line">[a, b] = array;</span><br><span class="line">[a, , b] = array;</span><br><span class="line">[a = aDefault, b] = array;</span><br><span class="line">[a, b, ...rest] = array;</span><br><span class="line">[a, , b, ...rest] = array;</span><br><span class="line">[a, b, ...&#123; pop, push &#125;] = array;</span><br><span class="line">[a, b, ...[c, d]] = array;</span><br><span class="line"></span><br><span class="line">(&#123; a, b &#125; = obj); <span class="comment">// brackets are required</span></span><br><span class="line">(&#123; <span class="attr">a</span>: a1, <span class="attr">b</span>: b1 &#125; = obj);</span><br><span class="line">(&#123; <span class="attr">a</span>: a1 = aDefault, b = bDefault &#125; = obj);</span><br><span class="line">(&#123; a, b, ...rest &#125; = obj);</span><br><span class="line">(&#123; <span class="attr">a</span>: a1, <span class="attr">b</span>: b1, ...rest &#125; = obj);</span><br></pre></td></tr></table></figure>

<h2 id="描述-2"><a href="#描述-2" class="headerlink" title="描述"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#%E6%8F%8F%E8%BF%B0">描述</a></h2><p>对象和数组字面量表达式提供了一种简单的方法来创建<em>特别的</em>数据包。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> x = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br></pre></td></tr></table></figure>

<p>解构赋值使用类似的语法，但在赋值的左侧定义了要从原变量中取出哪些值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> x = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">const</span> [y, z] = x;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(y); <span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(z); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<p>同样，你可以在赋值语句的左侧解构对象。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> &#123; a, b &#125; = obj;</span><br><span class="line"><span class="comment">// is equivalent to:</span></span><br><span class="line"><span class="comment">// const a = obj.a;</span></span><br><span class="line"><span class="comment">// const b = obj.b;</span></span><br></pre></td></tr></table></figure>

<p>这种功能类似于 Perl 和 Python 等语言中存在的特性。</p>
<h3 id="绑定与赋值"><a href="#绑定与赋值" class="headerlink" title="绑定与赋值"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#%E7%BB%91%E5%AE%9A%E4%B8%8E%E8%B5%8B%E5%80%BC">绑定与赋值</a></h3><p>对于对象和数组的解构，有两种解构模式：<em>绑定模式</em>和<em>赋值模式</em>，它们的语法略有不同。</p>
<p>在绑定模式中，模式以声明关键字（<code>var</code>、<code>let</code> 或 <code>const</code>）开始。然后，每个单独的属性必须绑定到一个变量或进一步解构。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: &#123; <span class="attr">c</span>: <span class="number">2</span> &#125; &#125;;</span><br><span class="line"><span class="keyword">const</span> &#123;</span><br><span class="line">  a,</span><br><span class="line">  <span class="attr">b</span>: &#123; <span class="attr">c</span>: d &#125;,</span><br><span class="line">&#125; = obj;</span><br><span class="line"><span class="comment">// Two variables are bound: `a` and `d`</span></span><br></pre></td></tr></table></figure>

<p>所有变量共享相同的声明，因此，如果你希望某些变量可重新分配，而其他变量是只读的，则可能需要解构两次——一次使用 <code>let</code>，一次使用 <code>const</code>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: &#123; <span class="attr">c</span>: <span class="number">2</span> &#125; &#125;;</span><br><span class="line"><span class="keyword">const</span> &#123; a &#125; = obj; <span class="comment">// a is constant</span></span><br><span class="line"><span class="keyword">let</span> &#123;</span><br><span class="line">  <span class="attr">b</span>: &#123; <span class="attr">c</span>: d &#125;,</span><br><span class="line">&#125; = obj; <span class="comment">// d is re-assignable</span></span><br></pre></td></tr></table></figure>

<p>在赋值模式中，模式不以关键字开头。每个解构属性都被赋值给一个赋值目标——这个赋值目标可以事先用 <code>var</code> 或 <code>let</code> 声明，也可以是另一个对象的属性——一般来说，可以是任何可以出现在赋值表达式左侧的东西。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> numbers = [];</span><br><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span> &#125;;</span><br><span class="line">(&#123; <span class="attr">a</span>: numbers[<span class="number">0</span>], <span class="attr">b</span>: numbers[<span class="number">1</span>] &#125; = obj);</span><br><span class="line"><span class="comment">// The properties `a` and `b` are assigned to properties of `numbers`</span></span><br></pre></td></tr></table></figure>

<p><strong>备注：</strong> 当使用对象文字解构赋值而不带声明时，在赋值语句周围必须添加括号 <code>( ... )</code>。</p>
<p><code>&#123; a, b &#125; = &#123; a: 1, b: 2 &#125;</code> 不是有效的独立语法，因为左侧的 <code>&#123;a, b&#125;</code> 被视为块而不是对象字面量。但是，<code>(&#123; a, b &#125; = &#123; a: 1, b: 2 &#125;)</code> 是有效的，<code>const &#123; a, b &#125; = &#123; a: 1， b: 2 &#125;</code> 也是有效的。</p>
<p>如果你的编码风格不包括尾随分号，则 <code>( ... )</code> 表达式前面需要有一个分号，否则它可能用于执行前一行的函数。</p>
<p>请注意，上述代码在等效的<em>绑定模式</em>中不是有效的语法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> numbers = [];</span><br><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> &#123; <span class="attr">a</span>: numbers[<span class="number">0</span>], <span class="attr">b</span>: numbers[<span class="number">1</span>] &#125; = obj;</span><br><span class="line"></span><br><span class="line"><span class="comment">// This is equivalent to:</span></span><br><span class="line"><span class="comment">//   const numbers[0] = obj.a;</span></span><br><span class="line"><span class="comment">//   const numbers[1] = obj.b;</span></span><br><span class="line"><span class="comment">// Which definitely is not valid.</span></span><br></pre></td></tr></table></figure>

<h3 id="默认值"><a href="#默认值" class="headerlink" title="默认值"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#%E9%BB%98%E8%AE%A4%E5%80%BC">默认值</a></h3><p>每个解构属性都可以有一个<em>默认值</em>。当属性不存在或值为 <code>undefined</code> 时，将使用默认值。如果属性的值为 <code>null</code>，则不使用它。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [a = <span class="number">1</span>] = []; <span class="comment">// a is 1</span></span><br><span class="line"><span class="keyword">const</span> &#123; b = <span class="number">2</span> &#125; = &#123; <span class="attr">b</span>: <span class="literal">undefined</span> &#125;; <span class="comment">// b is 2</span></span><br><span class="line"><span class="keyword">const</span> &#123; c = <span class="number">2</span> &#125; = &#123; <span class="attr">c</span>: <span class="literal">null</span> &#125;; <span class="comment">// c is null</span></span><br></pre></td></tr></table></figure>

<p>默认值可以是任何表达式。仅在必要时对其进行评估。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; b = <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;hey&quot;</span>) &#125; = &#123; <span class="attr">b</span>: <span class="number">2</span> &#125;;</span><br><span class="line"><span class="comment">// Does not log anything, because `b` is defined and there&#x27;s no need</span></span><br><span class="line"><span class="comment">// to evaluate the default value.</span></span><br></pre></td></tr></table></figure>

<h3 id="剩余属性"><a href="#剩余属性" class="headerlink" title="剩余属性"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#%E5%89%A9%E4%BD%99%E5%B1%9E%E6%80%A7">剩余属性</a></h3><p>你可以使用剩余属性（<code>...rest</code>）结束解构模式。此模式会将对象或数组的所有剩余属性存储到新的对象或数组中。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; a, ...others &#125; = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span>, <span class="attr">c</span>: <span class="number">3</span> &#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(others); <span class="comment">// &#123; b: 2, c: 3 &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> [first, ...others2] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(others2); <span class="comment">// [2, 3]</span></span><br></pre></td></tr></table></figure>

<p>剩余属性必须是模式中的最后一个，并且不能有尾随逗号。</p>
<p>js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const [a, ...b,] = [1, 2, 3];</span><br><span class="line"></span><br><span class="line">// SyntaxError: rest element may not have a trailing comma</span><br><span class="line">// Always consider using rest operator as the last element</span><br></pre></td></tr></table></figure>

<h3 id="使用其他语法解构模式"><a href="#使用其他语法解构模式" class="headerlink" title="使用其他语法解构模式"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#%E4%BD%BF%E7%94%A8%E5%85%B6%E4%BB%96%E8%AF%AD%E6%B3%95%E8%A7%A3%E6%9E%84%E6%A8%A1%E5%BC%8F">使用其他语法解构模式</a></h3><p>在许多语法中，语言为你绑定变量，你也可以使用解构模式。其中包括：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/for...in"><code>for...in</code></a> 和 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/for...of"><code>for...of</code></a> 循环中的循环变量；</li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions">函数</a>参数；</li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/try...catch"><code>catch</code></a> 绑定变量。</li>
</ul>
<p>有关特定于数组或对象解构的功能，请参阅下面的各个示例。</p>
<h2 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#%E7%A4%BA%E4%BE%8B">示例</a></h2><h3 id="解构数组"><a href="#解构数组" class="headerlink" title="解构数组"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#%E8%A7%A3%E6%9E%84%E6%95%B0%E7%BB%84">解构数组</a></h3><h4 id="基本变量赋值"><a href="#基本变量赋值" class="headerlink" title="基本变量赋值"></a>基本变量赋值</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> foo = [<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> [red, yellow, green] = foo;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(red); <span class="comment">// &quot;one&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(yellow); <span class="comment">// &quot;two&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(green); <span class="comment">// &quot;three&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="解构比源更多的元素"><a href="#解构比源更多的元素" class="headerlink" title="解构比源更多的元素"></a>解构比源更多的元素</h4><p>在从赋值语句右侧指定的长度为 <em>N</em> 的数组解构的数组中，如果赋值语句左侧指定的变量数量大于 <em>N</em>，则只有前 <em>N</em> 个变量被赋值。其余变量的值将是未定义。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> foo = [<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> [red, yellow, green, blue] = foo;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(red); <span class="comment">// &quot;one&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(yellow); <span class="comment">// &quot;two&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(green); <span class="comment">// undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(blue); <span class="comment">//undefined</span></span><br></pre></td></tr></table></figure>

<h4 id="交换变量"><a href="#交换变量" class="headerlink" title="交换变量"></a>交换变量</h4><p>可以在一个解构表达式中交换两个变量的值。</p>
<p>没有解构赋值的情况下，交换两个变量需要一个临时变量（或者用低级语言中的<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/XOR_swap_algorithm">异或交换技巧</a>）。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> b = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">[a, b] = [b, a];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b); <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">[arr[<span class="number">2</span>], arr[<span class="number">1</span>]] = [arr[<span class="number">1</span>], arr[<span class="number">2</span>]];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr); <span class="comment">// [1, 3, 2]</span></span><br></pre></td></tr></table></figure>

<h4 id="解析一个从函数返回的数组"><a href="#解析一个从函数返回的数组" class="headerlink" title="解析一个从函数返回的数组"></a>解析一个从函数返回的数组</h4><p>从一个函数返回一个数组是十分常见的情况。解构使得处理返回值为数组时更加方便。</p>
<p>在下面例子中，要让 <code>f()</code> 返回值 <code>[1, 2]</code> 作为其输出，可以使用解构在一行内完成解析。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">f</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> [<span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> [a, b] = <span class="title function_">f</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<h4 id="忽略某些返回值"><a href="#忽略某些返回值" class="headerlink" title="忽略某些返回值"></a>忽略某些返回值</h4><p>你可以忽略你不感兴趣的返回值：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">f</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> [a, , b] = <span class="title function_">f</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b); <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> [c] = <span class="title function_">f</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>

<p>你也可以忽略全部返回值：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[, ,] = <span class="title function_">f</span>();</span><br></pre></td></tr></table></figure>

<h4 id="使用绑定模式作为剩余属性"><a href="#使用绑定模式作为剩余属性" class="headerlink" title="使用绑定模式作为剩余属性"></a>使用绑定模式作为剩余属性</h4><p>数组解构赋值的剩余属性可以是另一个数组或对象绑定模式。这允许你同时提取数组的属性和索引。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [a, b, ...&#123; pop, push &#125;] = [<span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a, b); <span class="comment">// 1 2</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pop, push); <span class="comment">// [Function pop] [Function push]</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [a, b, ...[c, d]] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a, b, c, d); <span class="comment">// 1 2 3 4</span></span><br></pre></td></tr></table></figure>

<p>这些绑定模式甚至可以嵌套，只要每个剩余属性都在列表的最后。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [a, b, ...[c, d, ...[e, f]]] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a, b, c, d, e, f); <span class="comment">// 1 2 3 4 5 6</span></span><br></pre></td></tr></table></figure>

<p>另一方面，对象解构只能有一个标识符作为剩余属性。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; a, ...&#123; b &#125; &#125; = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span> &#125;;</span><br><span class="line"><span class="comment">// SyntaxError: `...` must be followed by an identifier in declaration contexts</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a, b;</span><br><span class="line">(&#123; a, ...&#123; b &#125; &#125; = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span> &#125;);</span><br><span class="line"><span class="comment">// SyntaxError: `...` must be followed by an assignable reference in assignment contexts</span></span><br></pre></td></tr></table></figure>

<h4 id="从正则表达式匹配项中提取值"><a href="#从正则表达式匹配项中提取值" class="headerlink" title="从正则表达式匹配项中提取值"></a>从正则表达式匹配项中提取值</h4><p>当正则表达式的 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/exec"><code>exec()</code></a> 方法找到匹配项时，它将返回一个数组，该数组首先包含字符串的整个匹配部分，然后返回与正则表达式中每个括号组匹配的字符串部分。解构赋值允许你轻易地提取出需要的部分，如果不需要，则忽略完整匹配。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">parseProtocol</span>(<span class="params">url</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> parsedURL = <span class="regexp">/^(\w+):\/\/([^/]+)\/(.*)$/</span>.<span class="title function_">exec</span>(url);</span><br><span class="line">  <span class="keyword">if</span> (!parsedURL) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(parsedURL);</span><br><span class="line">  <span class="comment">// [&quot;https://developer.mozilla.org/zh-CN/docs/Web/JavaScript&quot;,</span></span><br><span class="line">  <span class="comment">// &quot;https&quot;, &quot;developer.mozilla.org&quot;, &quot;zh-CN/docs/Web/JavaScript&quot;]</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> [, protocol, fullhost, fullpath] = parsedURL;</span><br><span class="line">  <span class="keyword">return</span> protocol;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(</span><br><span class="line">  <span class="title function_">parseProtocol</span>(<span class="string">&quot;https://developer.mozilla.org/zh-CN/docs/Web/JavaScript&quot;</span>),</span><br><span class="line">);</span><br><span class="line"><span class="comment">// &quot;https&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="在任何可迭代对象上使用数组解构"><a href="#在任何可迭代对象上使用数组解构" class="headerlink" title="在任何可迭代对象上使用数组解构"></a>在任何可迭代对象上使用数组解构</h4><p>数组解构调用右侧的<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Iteration_protocols">迭代协议</a>。因此，任何可迭代对象（不一定是数组）都可以解构。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [a, b] = <span class="keyword">new</span> <span class="title class_">Map</span>([</span><br><span class="line">  [<span class="number">1</span>, <span class="number">2</span>],</span><br><span class="line">  [<span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">]);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a, b); <span class="comment">// [1, 2] [3, 4]</span></span><br></pre></td></tr></table></figure>

<p>不可迭代对象不能解构为数组。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123; <span class="number">0</span>: <span class="string">&quot;a&quot;</span>, <span class="number">1</span>: <span class="string">&quot;b&quot;</span>, <span class="attr">length</span>: <span class="number">2</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> [a, b] = obj;</span><br><span class="line"><span class="comment">// TypeError: obj is not iterable</span></span><br></pre></td></tr></table></figure>

<p>只有在分配所有绑定之前，才会迭代可迭代对象。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  *[<span class="title class_">Symbol</span>.<span class="property">iterator</span>]() &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> v <span class="keyword">of</span> [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(v);</span><br><span class="line">      <span class="keyword">yield</span> v;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> [a, b] = obj; <span class="comment">// Only logs 0 and 1</span></span><br></pre></td></tr></table></figure>

<p>其余的绑定会提前求值并创建一个新数组，而不是使用旧的迭代器。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  *[<span class="title class_">Symbol</span>.<span class="property">iterator</span>]() &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> v <span class="keyword">of</span> [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(v);</span><br><span class="line">      <span class="keyword">yield</span> v;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> [a, b, ...rest] = obj; <span class="comment">// Logs 0 1 2 3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(rest); <span class="comment">// [2, 3] (an array)</span></span><br></pre></td></tr></table></figure>

<h3 id="解构对象"><a href="#解构对象" class="headerlink" title="解构对象"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#%E8%A7%A3%E6%9E%84%E5%AF%B9%E8%B1%A1">解构对象</a></h3><h4 id="基本赋值"><a href="#基本赋值" class="headerlink" title="基本赋值"></a>基本赋值</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> user = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="number">42</span>,</span><br><span class="line">  <span class="attr">isVerified</span>: <span class="literal">true</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; id, isVerified &#125; = user;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(id); <span class="comment">// 42</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(isVerified); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h4 id="赋值给新的变量名"><a href="#赋值给新的变量名" class="headerlink" title="赋值给新的变量名"></a>赋值给新的变量名</h4><p>可以从对象中提取属性，并将其赋值给名称与对象属性不同的变量。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> o = &#123; <span class="attr">p</span>: <span class="number">42</span>, <span class="attr">q</span>: <span class="literal">true</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> &#123; <span class="attr">p</span>: foo, <span class="attr">q</span>: bar &#125; = o;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(foo); <span class="comment">// 42</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(bar); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>举个例子，<code>const &#123; p: foo &#125; = o</code> 从对象 <code>o</code> 中获取名为 <code>p</code> 的属性，并将其赋值给名为 <code>foo</code> 的局部变量。</p>
<h4 id="赋值到新的变量名并提供默认值"><a href="#赋值到新的变量名并提供默认值" class="headerlink" title="赋值到新的变量名并提供默认值"></a>赋值到新的变量名并提供默认值</h4><p>一个属性可以同时是两者：</p>
<ul>
<li>从对象提取并分配给具有不同名称的变量。</li>
<li>指定一个默认值，以防获取的值为 <code>undefined</code>。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; <span class="attr">a</span>: aa = <span class="number">10</span>, <span class="attr">b</span>: bb = <span class="number">5</span> &#125; = &#123; <span class="attr">a</span>: <span class="number">3</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(aa); <span class="comment">// 3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(bb); <span class="comment">// 5</span></span><br></pre></td></tr></table></figure>

<h4 id="从作为函数参数传递的对象中提取属性"><a href="#从作为函数参数传递的对象中提取属性" class="headerlink" title="从作为函数参数传递的对象中提取属性"></a>从作为函数参数传递的对象中提取属性</h4><p>传递给函数参数的对象也可以提取到变量中，然后可以在函数体内访问这些变量。至于对象赋值，解构语法允许新变量具有与原始属性相同或不同的名称，并为原始对象未定义属性的情况分配默认值。</p>
<p>请考虑此对象，其中包含有关用户的信息。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> user = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="number">42</span>,</span><br><span class="line">  <span class="attr">displayName</span>: <span class="string">&quot;jdoe&quot;</span>,</span><br><span class="line">  <span class="attr">fullName</span>: &#123;</span><br><span class="line">    <span class="attr">firstName</span>: <span class="string">&quot;Jane&quot;</span>,</span><br><span class="line">    <span class="attr">lastName</span>: <span class="string">&quot;Doe&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>在这里，我们展示了如何将传递对象的属性提取到具有相同名称的变量。参数值 <code>&#123; id &#125;</code> 表示传递给函数的对象的 <code>id</code> 属性应该被提取到一个同名变量中，然后可以在函数中使用。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">userId</span>(<span class="params">&#123; id &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> id;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">userId</span>(user)); <span class="comment">// 42</span></span><br></pre></td></tr></table></figure>

<p>你可以定义提取变量的名称。在这里，我们提取名为 <code>displayName</code> 的属性，并将其重命名为 <code>dname</code>，以便在函数体内使用。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">userDisplayName</span>(<span class="params">&#123; displayName: dname &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> dname;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">userDisplayName</span>(user)); <span class="comment">// `jdoe`</span></span><br></pre></td></tr></table></figure>

<p>嵌套对象也可以提取。下面的示例展示了属性 <code>fullname.firstName</code> 被提取到名为 <code>name</code> 的变量中。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">whois</span>(<span class="params">&#123; displayName, fullName: &#123; firstName: name &#125; &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;displayName&#125;</span> is <span class="subst">$&#123;name&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">whois</span>(user)); <span class="comment">// &quot;jdoe is Jane&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="设置函数参数的默认值"><a href="#设置函数参数的默认值" class="headerlink" title="设置函数参数的默认值"></a>设置函数参数的默认值</h4><p>默认值可以使用 <code>=</code> 指定，如果指定的属性在传递的对象中不存在，则将其用作变量值。</p>
<p>下面我们展示了一个默认大小为 <code>big</code>的函数，默认坐标为 <code>x: 0, y: 0</code>，默认半径为 25。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">drawChart</span>(<span class="params">&#123;</span></span><br><span class="line"><span class="params">  size = <span class="string">&quot;big&quot;</span>,</span></span><br><span class="line"><span class="params">  coords = &#123; x: <span class="number">0</span>, y: <span class="number">0</span> &#125;,</span></span><br><span class="line"><span class="params">  radius = <span class="number">25</span>,</span></span><br><span class="line"><span class="params">&#125; = &#123;&#125;</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(size, coords, radius);</span><br><span class="line">  <span class="comment">// do some chart drawing</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">drawChart</span>(&#123;</span><br><span class="line">  <span class="attr">coords</span>: &#123; <span class="attr">x</span>: <span class="number">18</span>, <span class="attr">y</span>: <span class="number">30</span> &#125;,</span><br><span class="line">  <span class="attr">radius</span>: <span class="number">30</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>在上面 <code>drawChart</code> 的函数签名中，解构的左侧具有空对象 <code>= &#123;&#125;</code> 的默认值。</p>
<p>你也可以在没有该默认值的情况下编写该函数。但是，如果你省略该默认值，该函数将在调用时寻找至少一个参数来提供，而在当前形式下，你可以在不提供任何参数的情况下调用 <code>drawChart()</code>。否则，你至少需要提供一个空对象字面量。</p>
<p>有关详细信息，请参阅<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/Default_parameters#%E6%9C%89%E9%BB%98%E8%AE%A4%E5%80%BC%E7%9A%84%E8%A7%A3%E6%9E%84%E5%8F%82%E6%95%B0">默认参数值 &gt; 有默认值的解构参数</a>。</p>
<h4 id="解构嵌套对象和数组"><a href="#解构嵌套对象和数组" class="headerlink" title="解构嵌套对象和数组"></a>解构嵌套对象和数组</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> metadata = &#123;</span><br><span class="line">  <span class="attr">title</span>: <span class="string">&quot;Scratchpad&quot;</span>,</span><br><span class="line">  <span class="attr">translations</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">locale</span>: <span class="string">&quot;de&quot;</span>,</span><br><span class="line">      <span class="attr">localization_tags</span>: [],</span><br><span class="line">      <span class="attr">last_edit</span>: <span class="string">&quot;2014-04-14T08:43:37&quot;</span>,</span><br><span class="line">      <span class="attr">url</span>: <span class="string">&quot;/de/docs/Tools/Scratchpad&quot;</span>,</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&quot;JavaScript-Umgebung&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">url</span>: <span class="string">&quot;/zh-CN/docs/Tools/Scratchpad&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123;</span><br><span class="line">  <span class="attr">title</span>: englishTitle, <span class="comment">// rename</span></span><br><span class="line">  <span class="attr">translations</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">title</span>: localeTitle, <span class="comment">// rename</span></span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125; = metadata;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(englishTitle); <span class="comment">// &quot;Scratchpad&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(localeTitle); <span class="comment">// &quot;JavaScript-Umgebung&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="For-of-迭代和解构"><a href="#For-of-迭代和解构" class="headerlink" title="For of 迭代和解构"></a>For of 迭代和解构</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> people = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;Mike Smith&quot;</span>,</span><br><span class="line">    <span class="attr">family</span>: &#123;</span><br><span class="line">      <span class="attr">mother</span>: <span class="string">&quot;Jane Smith&quot;</span>,</span><br><span class="line">      <span class="attr">father</span>: <span class="string">&quot;Harry Smith&quot;</span>,</span><br><span class="line">      <span class="attr">sister</span>: <span class="string">&quot;Samantha Smith&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">35</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;Tom Jones&quot;</span>,</span><br><span class="line">    <span class="attr">family</span>: &#123;</span><br><span class="line">      <span class="attr">mother</span>: <span class="string">&quot;Norah Jones&quot;</span>,</span><br><span class="line">      <span class="attr">father</span>: <span class="string">&quot;Richard Jones&quot;</span>,</span><br><span class="line">      <span class="attr">brother</span>: <span class="string">&quot;Howard Jones&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">25</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: n,</span><br><span class="line">  <span class="attr">family</span>: &#123; <span class="attr">father</span>: f &#125;,</span><br><span class="line">&#125; <span class="keyword">of</span> people) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Name: <span class="subst">$&#123;n&#125;</span>, Father: <span class="subst">$&#123;f&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &quot;Name: Mike Smith, Father: Harry Smith&quot;</span></span><br><span class="line"><span class="comment">// &quot;Name: Tom Jones, Father: Richard Jones&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="对象属性计算名和解构"><a href="#对象属性计算名和解构" class="headerlink" title="对象属性计算名和解构"></a>对象属性计算名和解构</h4><p>计算属性名，如<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Object_initializer#%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E5%90%8D">对象字面量</a>，可以被解构。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> key = <span class="string">&quot;z&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> &#123; [key]: foo &#125; = &#123; <span class="attr">z</span>: <span class="string">&quot;bar&quot;</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(foo); <span class="comment">// &quot;bar&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="无效的-JavaScript-标识符作为属性名称"><a href="#无效的-JavaScript-标识符作为属性名称" class="headerlink" title="无效的 JavaScript 标识符作为属性名称"></a>无效的 JavaScript 标识符作为属性名称</h4><p>通过提供有效的替代标识符，解构可以与不是有效的 JavaScript <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/Identifier">标识符</a>的属性名称一起使用。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> foo = &#123; <span class="string">&quot;fizz-buzz&quot;</span>: <span class="literal">true</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> &#123; <span class="string">&quot;fizz-buzz&quot;</span>: fizzBuzz &#125; = foo;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fizzBuzz); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h3 id="解构基本类型"><a href="#解构基本类型" class="headerlink" title="解构基本类型"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#%E8%A7%A3%E6%9E%84%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B">解构基本类型</a></h3><p>对象解构几乎等同于<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Property_accessors">属性访问</a>。这意味着，如果尝试解构基本类型的值，该值将被包装到相应的包装器对象中，并且在包装器对象上访问该属性。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; a, toFixed &#125; = <span class="number">1</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a, toFixed); <span class="comment">// undefined ƒ toFixed() &#123; [native code] &#125;</span></span><br></pre></td></tr></table></figure>

<p>与访问属性相同，解构 <code>null</code> 或 <code>undefined</code> 会抛出 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/TypeError"><code>TypeError</code></a>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const &#123; a &#125; = undefined; // TypeError: Cannot destructure property &#x27;a&#x27; of &#x27;undefined&#x27; as it is undefined.</span><br><span class="line">const &#123; a &#125; = null; // TypeError: Cannot destructure property &#x27;b&#x27; of &#x27;null&#x27; as it is null.</span><br></pre></td></tr></table></figure>

<p>即使模式为空，也会发生这种情况。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;&#125; = <span class="literal">null</span>; <span class="comment">// TypeError: Cannot destructure &#x27;null&#x27; as it is null.</span></span><br></pre></td></tr></table></figure>

<h4 id="组合数组和对象解构"><a href="#组合数组和对象解构" class="headerlink" title="组合数组和对象解构"></a>组合数组和对象解构</h4><p>数组和对象解构可以组合使用。假设你想要下面 <code>props</code> 数组中的第三个元素，然后你想要对象中的 <code>name</code> 属性，你可以执行以下操作：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> props = [</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&quot;Fizz&quot;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">&quot;Buzz&quot;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">name</span>: <span class="string">&quot;FizzBuzz&quot;</span> &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> [, , &#123; name &#125;] = props;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name); <span class="comment">// &quot;FizzBuzz&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="解构对象时查找原型链"><a href="#解构对象时查找原型链" class="headerlink" title="解构对象时查找原型链"></a>解构对象时查找原型链</h4><p>当解构一个对象时，如果属性本身没有被访问，它将沿着原型链继续查找。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">self</span>: <span class="string">&quot;123&quot;</span>,</span><br><span class="line">  <span class="attr">__proto__</span>: &#123;</span><br><span class="line">    <span class="attr">prot</span>: <span class="string">&quot;456&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> &#123; self, prot &#125; = obj;</span><br><span class="line"><span class="comment">// self &quot;123&quot;</span></span><br><span class="line"><span class="comment">// prot &quot;456&quot; (Access to the prototype chain)</span></span><br></pre></td></tr></table></figure>

<h2 id="规范"><a href="#规范" class="headerlink" title="规范"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#%E8%A7%84%E8%8C%83">规范</a></h2><p>| Specification                                                |
| ———————————————————— |
| <a target="_blank" rel="noopener" href="https://tc39.es/ecma262/multipage/ecmascript-language-expressions.html#sec-destructuring-assignment">ECMAScript Language Specification  # sec-destructuring-assignment</a> |
| <a target="_blank" rel="noopener" href="https://tc39.es/ecma262/multipage/ecmascript-language-statements-and-declarations.html#sec-destructuring-binding-patterns">ECMAScript Language Specification  # sec-destructuring-binding-patterns</a> |</p>
<h1 id="模板字符串"><a href="#模板字符串" class="headerlink" title="模板字符串"></a>模板字符串</h1><p><strong>模板字面量</strong>是用反引号（&#96;&#96;&#96;）分隔的字面量，允许<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Template_literals#%E5%A4%9A%E8%A1%8C%E5%AD%97%E7%AC%A6%E4%B8%B2">多行字符串</a>、带嵌入表达式的<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Template_literals#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8F%92%E5%80%BC">字符串插值</a>和一种叫<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Template_literals#%E5%B8%A6%E6%A0%87%E7%AD%BE%E7%9A%84%E6%A8%A1%E6%9D%BF">带标签的模板</a>的特殊结构。</p>
<p>模板字面量有时被非正式地叫作<em>模板字符串</em>，因为它们最常被用作<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Template_literals#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8F%92%E5%80%BC">字符串插值</a>（通过替换占位符来创建字符串）。然而，带标签的模板字面量可能不会产生字符串——它可以与自定义<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Template_literals#%E5%B8%A6%E6%A0%87%E7%AD%BE%E7%9A%84%E6%A8%A1%E6%9D%BF">标签函数</a>一起使用，来对模板字面量的不同部分执行任何操作。</p>
<h2 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Template_literals#%E8%AF%AD%E6%B3%95">语法</a></h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">`string text`</span></span><br><span class="line"></span><br><span class="line"><span class="string">`string text line 1</span></span><br><span class="line"><span class="string"> string text line 2`</span></span><br><span class="line"></span><br><span class="line"><span class="string">`string text <span class="subst">$&#123;expression&#125;</span> string text`</span></span><br><span class="line"></span><br><span class="line">tagFunction<span class="string">`string text <span class="subst">$&#123;expression&#125;</span> string text`</span></span><br></pre></td></tr></table></figure>

<h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Template_literals#%E5%8F%82%E6%95%B0">参数</a></h3><ul>
<li><p><code>string text</code></p>
<p>​    将成为模板字面量的一部分的字符串文本。几乎允许所有字符，包括<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Lexical_grammar#%E8%A1%8C%E7%BB%88%E6%AD%A2%E7%AC%A6">换行符</a>和其他<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Lexical_grammar#%E7%A9%BA%E7%99%BD%E7%AC%A6">空白字符</a>。但是，除非使用了<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Template_literals#%E5%B8%A6%E6%A0%87%E7%AD%BE%E7%9A%84%E6%A8%A1%E7%89%88%E5%AD%97%E9%9D%A2%E9%87%8F%E5%8F%8A%E8%BD%AC%E4%B9%89%E5%BA%8F%E5%88%97">标签函数</a>，否则无效的转义序列将导致语法错误。  </p>
</li>
<li><p><code>expression</code></p>
<p>​    要插入当前位置的表达式，其值被转换为字符串或传递给 <code>tagFunction</code>。  </p>
</li>
<li><p><code>tagFunction</code></p>
<p>​    如果指定，将使用模板字符串数组和替换表达式调用它，返回值将成为模板字面量的值。见<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Template_literals#%E5%B8%A6%E6%A0%87%E7%AD%BE%E7%9A%84%E6%A8%A1%E6%9D%BF">带标签的模板</a>。</p>
</li>
</ul>
<h2 id="描述-3"><a href="#描述-3" class="headerlink" title="描述"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Template_literals#%E6%8F%8F%E8%BF%B0">描述</a></h2><p>  模板字面量用反引号（&#96;&#96;&#96;）括起来，而不是双引号（<code>&quot;</code>）或单引号（<code>&#39;</code>）。  除了普通字符串外，模板字面量还可以包含*占位符*——一种由美元符号和大括号分隔的嵌入式表达式：<code>$&#123;expression&#125;</code>。字符串和占位符被传递给一个函数（要么是默认函数，要么是自定义函数）。默认函数（当未提供自定义函数时）只执行<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Template_literals#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8F%92%E5%80%BC">字符串插值</a>来替换占位符，然后将这些部分拼接到一个字符串中。</p>
<p>若要提供自定义函数，需在模板字面量之前加上函数名（结果被称为<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Template_literals#%E5%B8%A6%E6%A0%87%E7%AD%BE%E7%9A%84%E6%A8%A1%E6%9D%BF"><strong>带标签的模板</strong></a>）。此时，模板字面量被传递给你的标签函数，然后就可以在那里对模板文本的不同部分执行任何操作。</p>
<p>若要转义模板字面量中的反引号（&#96;&#96;&#96;），需在反引号之前加一个反斜杠（<code>\</code>）。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">`\``</span> === <span class="string">&quot;`&quot;</span>; <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>美元符号 <code>$</code> 也可以被转义，来阻止插值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">`\$&#123;1&#125;`</span> === <span class="string">&quot;$&#123;1&#125;&quot;</span>; <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h3 id="多行字符串"><a href="#多行字符串" class="headerlink" title="多行字符串"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Template_literals#%E5%A4%9A%E8%A1%8C%E5%AD%97%E7%AC%A6%E4%B8%B2">多行字符串</a></h3><p>在源码中插入的任何换行符都是模板字面量的一部分。</p>
<p>使用普通字符串，可以通过下面的方式得到多行字符串：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;string text line 1\n&quot;</span> + <span class="string">&quot;string text line 2&quot;</span>);</span><br><span class="line"><span class="comment">// &quot;string text line 1</span></span><br><span class="line"><span class="comment">// string text line 2&quot;</span></span><br></pre></td></tr></table></figure>

<p>使用模板字面量，下面的代码同样可以做到：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`string text line 1</span></span><br><span class="line"><span class="string">string text line 2`</span>);</span><br><span class="line"><span class="comment">// &quot;string text line 1</span></span><br><span class="line"><span class="comment">// string text line 2&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="字符串插值"><a href="#字符串插值" class="headerlink" title="字符串插值"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Template_literals#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8F%92%E5%80%BC">字符串插值</a></h3><p>如果没有模板字面量，当你想组合表达式的输出与字符串时，可以使用<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Addition">加法运算符 <code>+</code></a> <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/First_steps/Strings#%E8%BF%9E%E6%8E%A5%E5%AD%97%E7%AC%A6%E4%B8%B2">连接它们</a>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> b = <span class="number">10</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Fifteen is &quot;</span> + (a + b) + <span class="string">&quot; and\nnot &quot;</span> + (<span class="number">2</span> * a + b) + <span class="string">&quot;.&quot;</span>);</span><br><span class="line"><span class="comment">// &quot;Fifteen is 15 and</span></span><br><span class="line"><span class="comment">// not 20.&quot;</span></span><br></pre></td></tr></table></figure>

<p>这可能很难阅读，尤其是当存在多个表达式时。</p>
<p>有了模板字面量，就可以通过使用占位符 <code>$&#123;expression&#125;</code> 嵌入待替换的表达式，从而避免串联运算符，并提高代码的可读性：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> b = <span class="number">10</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Fifteen is <span class="subst">$&#123;a + b&#125;</span> and</span></span><br><span class="line"><span class="string">not <span class="subst">$&#123;<span class="number">2</span> * a + b&#125;</span>.`</span>);</span><br><span class="line"><span class="comment">// &quot;Fifteen is 15 and</span></span><br><span class="line"><span class="comment">// not 20.&quot;</span></span><br></pre></td></tr></table></figure>

<p>注意，这两种语法有一点小区别：模板字面量直接将其表达式<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%BC%BA%E5%88%B6%E8%BD%AC%E6%8D%A2">强制转换为字符串</a>，而加法则会先强制转换为原语类型。更多相关信息，参见<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Addition">加法（<code>+</code>）运算符</a>。</p>
<h3 id="嵌套模板"><a href="#嵌套模板" class="headerlink" title="嵌套模板"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Template_literals#%E5%B5%8C%E5%A5%97%E6%A8%A1%E6%9D%BF">嵌套模板</a></h3><p>在某些情况下，嵌套模板是具有可配置字符串的最简单的（也许还是更可读的）方法。在反引号分隔的模板中，允许在占位符 <code>$&#123;expression&#125;</code> 中使用内层的反引号。</p>
<p>例如，不用模板字面量的情况下，如果你想根据特定条件返回某个值，可以执行以下操作：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> classes = <span class="string">&quot;header&quot;</span>;</span><br><span class="line">classes += <span class="title function_">isLargeScreen</span>()</span><br><span class="line">  ? <span class="string">&quot;&quot;</span></span><br><span class="line">  : item.<span class="property">isCollapsed</span></span><br><span class="line">  ? <span class="string">&quot; icon-expander&quot;</span></span><br><span class="line">  : <span class="string">&quot; icon-collapser&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>用模板字面量但不嵌套时，你可以这么做：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> classes = <span class="string">`header <span class="subst">$&#123;</span></span></span><br><span class="line"><span class="subst"><span class="string">  isLargeScreen() ? <span class="string">&quot;&quot;</span> : item.isCollapsed ? <span class="string">&quot;icon-expander&quot;</span> : <span class="string">&quot;icon-collapser&quot;</span></span></span></span><br><span class="line"><span class="subst"><span class="string">&#125;</span>`</span>;</span><br></pre></td></tr></table></figure>

<p>用嵌套模板字面量时，你可以这么做：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> classes = <span class="string">`header <span class="subst">$&#123;</span></span></span><br><span class="line"><span class="subst"><span class="string">  isLargeScreen() ? <span class="string">&quot;&quot;</span> : <span class="string">`icon-<span class="subst">$&#123;item.isCollapsed ? <span class="string">&quot;expander&quot;</span> : <span class="string">&quot;collapser&quot;</span>&#125;</span>`</span></span></span></span><br><span class="line"><span class="subst"><span class="string">&#125;</span>`</span>;</span><br></pre></td></tr></table></figure>

<h3 id="带标签的模板"><a href="#带标签的模板" class="headerlink" title="带标签的模板"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Template_literals#%E5%B8%A6%E6%A0%87%E7%AD%BE%E7%9A%84%E6%A8%A1%E6%9D%BF">带标签的模板</a></h3><p><em>带标签的</em>模板是模板字面量的一种更高级的形式，它允许你使用函数解析模板字面量。标签函数的第一个参数包含一个字符串数组，其余的参数与表达式相关。你可以用标签函数对这些参数执行任何操作，并返回被操作过的字符串（或者，也可返回完全不同的内容，见下面的示例）。用作标签的函数名没有限制。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = <span class="string">&quot;Mike&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> age = <span class="number">28</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">myTag</span>(<span class="params">strings, personExp, ageExp</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> str0 = strings[<span class="number">0</span>]; <span class="comment">// &quot;That &quot;</span></span><br><span class="line">  <span class="keyword">const</span> str1 = strings[<span class="number">1</span>]; <span class="comment">// &quot; is a &quot;</span></span><br><span class="line">  <span class="keyword">const</span> str2 = strings[<span class="number">2</span>]; <span class="comment">// &quot;.&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> ageStr = ageExp &gt; <span class="number">99</span> ? <span class="string">&quot;centenarian&quot;</span> : <span class="string">&quot;youngster&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 我们甚至可以返回使用模板字面量构建的字符串</span></span><br><span class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;str0&#125;</span><span class="subst">$&#123;personExp&#125;</span><span class="subst">$&#123;str1&#125;</span><span class="subst">$&#123;ageStr&#125;</span><span class="subst">$&#123;str2&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> output = myTag<span class="string">`That <span class="subst">$&#123;person&#125;</span> is a <span class="subst">$&#123;age&#125;</span>.`</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(output);</span><br><span class="line"><span class="comment">// That Mike is a youngster.</span></span><br></pre></td></tr></table></figure>

<p>标签不必是普通的标识符，你可以使用任何<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Operator_precedence#%E6%B1%87%E6%80%BB%E8%A1%A8">优先级</a>大于 16 的表达式，包括<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Property_accessors">属性访问</a>、函数调用、<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/new">new 表达式</a>，甚至其他带标签的模板字面量。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="property">log</span><span class="string">`Hello`</span>; <span class="comment">// [ &#x27;Hello&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="property">log</span>.<span class="title function_">bind</span>(<span class="number">1</span>, <span class="number">2</span>)<span class="string">`Hello`</span>; <span class="comment">// 2 [ &#x27;Hello&#x27; ]</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Function</span>(<span class="string">&quot;console.log(arguments)&quot;</span>)<span class="string">`Hello`</span>; <span class="comment">// [Arguments] &#123; &#x27;0&#x27;: [ &#x27;Hello&#x27; ] &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">recursive</span>(<span class="params">strings, ...values</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(strings, values);</span><br><span class="line">  <span class="keyword">return</span> recursive;</span><br><span class="line">&#125;</span><br><span class="line">recursive<span class="string">`Hello`</span><span class="string">`World`</span>;</span><br><span class="line"><span class="comment">// [ &#x27;Hello&#x27; ] []</span></span><br><span class="line"><span class="comment">// [ &#x27;World&#x27; ] []</span></span><br></pre></td></tr></table></figure>

<p>虽然语法从技术上允许这么做，但<em>不带标签的</em>模板字面量是字符串，并且在链式调用时会抛出 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/TypeError"><code>TypeError</code></a>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Hello`</span><span class="string">`World`</span>); <span class="comment">// TypeError: &quot;Hello&quot; is not a function</span></span><br></pre></td></tr></table></figure>

<p>唯一的例外是可选链，这将抛出语法错误。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="property">log</span>?.<span class="string">`Hello`</span>; <span class="comment">// SyntaxError: Invalid tagged template on optional chain</span></span><br><span class="line"><span class="variable language_">console</span>?.<span class="property">log</span><span class="string">`Hello`</span>; <span class="comment">// SyntaxError: Invalid tagged template on optional chain</span></span><br></pre></td></tr></table></figure>

<p>请注意，这两个表达式仍然是可解析的。这意味着它们将不受<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Lexical_grammar#%E8%87%AA%E5%8A%A8%E5%88%86%E5%8F%B7%E8%A1%A5%E5%85%A8">自动分号补全</a>的影响，其只会插入分号来修复无法解析的代码。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 仍是语法错误</span></span><br><span class="line"><span class="keyword">const</span> a = <span class="variable language_">console</span>?.<span class="property">log</span></span><br><span class="line"><span class="string">`Hello`</span></span><br></pre></td></tr></table></figure>

<p>标签函数甚至不需要返回字符串！</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">template</span>(<span class="params">strings, ...keys</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function">(<span class="params">...values</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> dict = values[values.<span class="property">length</span> - <span class="number">1</span>] || &#123;&#125;;</span><br><span class="line">    <span class="keyword">const</span> result = [strings[<span class="number">0</span>]];</span><br><span class="line">    keys.<span class="title function_">forEach</span>(<span class="function">(<span class="params">key, i</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> value = <span class="title class_">Number</span>.<span class="title function_">isInteger</span>(key) ? values[key] : dict[key];</span><br><span class="line">      result.<span class="title function_">push</span>(value, strings[i + <span class="number">1</span>]);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> result.<span class="title function_">join</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> t1Closure = template<span class="string">`<span class="subst">$&#123;<span class="number">0</span>&#125;</span><span class="subst">$&#123;<span class="number">1</span>&#125;</span><span class="subst">$&#123;<span class="number">0</span>&#125;</span>!`</span>;</span><br><span class="line"><span class="comment">// const t1Closure = template([&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;!&quot;],0,1,0);</span></span><br><span class="line"><span class="title function_">t1Closure</span>(<span class="string">&quot;Y&quot;</span>, <span class="string">&quot;A&quot;</span>); <span class="comment">// &quot;YAY!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> t2Closure = template<span class="string">`<span class="subst">$&#123;<span class="number">0</span>&#125;</span> <span class="subst">$&#123;<span class="string">&quot;foo&quot;</span>&#125;</span>!`</span>;</span><br><span class="line"><span class="comment">// const t2Closure = template([&quot;&quot;,&quot; &quot;,&quot;!&quot;],0,&quot;foo&quot;);</span></span><br><span class="line"><span class="title function_">t2Closure</span>(<span class="string">&quot;Hello&quot;</span>, &#123; <span class="attr">foo</span>: <span class="string">&quot;World&quot;</span> &#125;); <span class="comment">// &quot;Hello World!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> t3Closure = template<span class="string">`I&#x27;m <span class="subst">$&#123;<span class="string">&quot;name&quot;</span>&#125;</span>. I&#x27;m almost <span class="subst">$&#123;<span class="string">&quot;age&quot;</span>&#125;</span> years old.`</span>;</span><br><span class="line"><span class="comment">// const t3Closure = template([&quot;I&#x27;m &quot;, &quot;. I&#x27;m almost &quot;, &quot; years old.&quot;], &quot;name&quot;, &quot;age&quot;);</span></span><br><span class="line"><span class="title function_">t3Closure</span>(<span class="string">&quot;foo&quot;</span>, &#123; <span class="attr">name</span>: <span class="string">&quot;MDN&quot;</span>, <span class="attr">age</span>: <span class="number">30</span> &#125;); <span class="comment">// &quot;I&#x27;m MDN. I&#x27;m almost 30 years old.&quot;</span></span><br><span class="line"><span class="title function_">t3Closure</span>(&#123; <span class="attr">name</span>: <span class="string">&quot;MDN&quot;</span>, <span class="attr">age</span>: <span class="number">30</span> &#125;); <span class="comment">// &quot;I&#x27;m MDN. I&#x27;m almost 30 years old.&quot;</span></span><br></pre></td></tr></table></figure>

<p>标签函数接收到的第一个参数是一个字符串数组。对于任何模板字面量，其长度等于替换次数（<code>$&#123;…&#125;</code> 出现次数）加一，因此总是非空的。对于任何特定的带标签的模板字面量表达式，无论对字面量求值多少次，都将始终使用完全相同的字面量数组调用标签函数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> callHistory = [];</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">tag</span>(<span class="params">strings, ...values</span>) &#123;</span><br><span class="line">  callHistory.<span class="title function_">push</span>(strings);</span><br><span class="line">  <span class="comment">// Return a freshly made object</span></span><br><span class="line">  <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">evaluateLiteral</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> tag<span class="string">`Hello, <span class="subst">$&#123;<span class="string">&quot;world&quot;</span>&#125;</span>!`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(evaluateLiteral() === evaluateLiteral()); <span class="comment">// false; each time `tag` is called, it returns a new object</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(callHistory[<span class="number">0</span>] === callHistory[<span class="number">1</span>]); <span class="comment">// true; all evaluations of the same tagged literal would pass in the same strings array</span></span><br></pre></td></tr></table></figure>

<p>这允许标签函数以其第一个参数作为标识来缓存结果。为了进一步确保数组值不变，第一个参数及其 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Template_literals#%E5%8E%9F%E5%A7%8B%E5%AD%97%E7%AC%A6%E4%B8%B2"><code>raw</code> 属性</a>都会被<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/isFrozen">冻结</a>，因此你将无法改变它们。</p>
<h3 id="原始字符串"><a href="#原始字符串" class="headerlink" title="原始字符串"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Template_literals#%E5%8E%9F%E5%A7%8B%E5%AD%97%E7%AC%A6%E4%B8%B2">原始字符串</a></h3><p>在标签函数的第一个参数中，存在一个特殊的属性 <code>raw</code> ，我们可以通过它来访问模板字符串的原始字符串，而无需<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Grammar_and_types#%E5%9C%A8%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E4%BD%BF%E7%94%A8%E7%9A%84%E7%89%B9%E6%AE%8A%E5%AD%97%E7%AC%A6">转义特殊字符</a>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">tag</span>(<span class="params">strings</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(strings.<span class="property">raw</span>[<span class="number">0</span>]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">tag<span class="string">`string text line 1 \n string text line 2`</span>;</span><br><span class="line"><span class="comment">// logs &quot;string text line 1 \n string text line 2&quot; ,</span></span><br><span class="line"><span class="comment">// including the two characters &#x27;\&#x27; and &#x27;n&#x27;</span></span><br></pre></td></tr></table></figure>

<p>另外，使用 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/raw"><code>String.raw()</code></a> 方法创建原始字符串和使用默认模板函数和字符串连接创建是一样的。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="title class_">String</span>.<span class="property">raw</span><span class="string">`Hi\n<span class="subst">$&#123;<span class="number">2</span>+<span class="number">3</span>&#125;</span>!`</span>;</span><br><span class="line"><span class="comment">// &quot;Hi\\n5!&quot;</span></span><br><span class="line"></span><br><span class="line">str.<span class="property">length</span>;.</span><br><span class="line"><span class="comment">// 6</span></span><br><span class="line"></span><br><span class="line">str.<span class="title function_">split</span>(<span class="string">&#x27;&#x27;</span>).<span class="title function_">join</span>(<span class="string">&#x27;,&#x27;</span>);.</span><br><span class="line"><span class="comment">// &quot;H,i,\\,n,5,!&quot;</span></span><br></pre></td></tr></table></figure>

<p>如果字面量不包含任何转义序列，<code>String.raw</code> 函数就像一个“identity”标签。如果你想要一个始终像不带标签的字面量那样的实际标识标签，可以用自定义函数，将“cooked”（例如，经转义序列处理过的）字面量数组传递给 <code>String.raw</code>，将它们当成原始字符串。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">identity</span> = (<span class="params">strings, ...values</span>) =&gt;</span><br><span class="line">  <span class="title class_">String</span>.<span class="title function_">raw</span>(&#123; <span class="attr">raw</span>: strings &#125;, ...values);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(identity<span class="string">`Hi\n<span class="subst">$&#123;<span class="number">2</span> + <span class="number">3</span>&#125;</span>!`</span>);</span><br><span class="line"><span class="comment">// Hi</span></span><br><span class="line"><span class="comment">// 5!</span></span><br></pre></td></tr></table></figure>

<p>这对于许多工具来说很有用，它们要对以特定名称为标签的字面量作特殊处理。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">html</span> = (<span class="params">strings, ...values</span>) =&gt; <span class="title class_">String</span>.<span class="title function_">raw</span>(&#123; <span class="attr">raw</span>: strings &#125;, ...values);</span><br><span class="line"><span class="comment">// 一些格式化程序会将此字面量的内容格式化为 HTML</span></span><br><span class="line"><span class="keyword">const</span> doc = html`<span class="language-xml"><span class="meta">&lt;!doctype <span class="keyword">html</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en-US&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">title</span>&gt;</span>Hello<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello world!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">html</span>&gt;</span>`</span>;</span><br></pre></td></tr></table></figure>

<h3 id="带标签的模板字面量及转义序列"><a href="#带标签的模板字面量及转义序列" class="headerlink" title="带标签的模板字面量及转义序列"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Template_literals#%E5%B8%A6%E6%A0%87%E7%AD%BE%E7%9A%84%E6%A8%A1%E6%9D%BF%E5%AD%97%E9%9D%A2%E9%87%8F%E5%8F%8A%E8%BD%AC%E4%B9%89%E5%BA%8F%E5%88%97">带标签的模板字面量及转义序列</a></h3><p>在普通模板字面量中，字符串字面量中的转义序列都是允许的，任何其他格式不正确的转义序列都是语法错误，包括：</p>
<ul>
<li><code>\</code> 后跟 <code>0</code> 以外的任何十进制数字，或 <code>\0</code> 后跟一个十进制数字，例如 <code>\9</code> 和 <code>\07</code>（这是一种<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Deprecated_and_obsolete_features#%E8%BD%AC%E4%B9%89%E5%BA%8F%E5%88%97">已弃用的语法</a>）</li>
<li><code>\x</code> 后跟两位以下十六进制数字，例如<code>\xz</code></li>
<li><code>\u</code> 后不跟 <code>&#123;</code>，并且后跟四个以下十六进制数字，例如 <code>\uz</code></li>
<li><code>\u&#123;&#125;</code> 包含无效的 Unicode 码点——包含一个非十六进制数字，或者它的值大于 10FFFF，例如 <code>\u&#123;110000&#125;</code> 和 <code>\u&#123;z&#125;</code></li>
</ul>
<p><strong>备注：</strong> <code>\</code> 后面跟着其他字符，虽然它们可能没有用，因为没有转义，但它们不是语法错误。</p>
<p>然而，这对于带标签的模板来说是有问题的，除了“cooked”字面量外，这些模板还可以访问原始字面量（转义序列按原样保留）。带标签的模板应该允许嵌入语言（例如 <a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E9%A2%86%E5%9F%9F%E7%89%B9%E5%AE%9A%E8%AF%AD%E8%A8%80">DSL</a> 或 <a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/LaTeX">LaTeX</a>），在这些语言里其他转义序列是常见的。因此，从带标签的模板中删除了转义序列诸多格式的语法限制。</p>
<p>不过，非法转义序列在“cooked”当中仍然会体现出来。它们将以 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/undefined"><code>undefined</code></a> 元素的形式存在于“cooked”数组之中：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">latex</span>(<span class="params">str</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123; <span class="attr">cooked</span>: str[<span class="number">0</span>], <span class="attr">raw</span>: str.<span class="property">raw</span>[<span class="number">0</span>] &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">latex<span class="string">`\unicode`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; cooked: undefined, raw: &quot;\\unicode&quot; &#125;</span></span><br></pre></td></tr></table></figure>

<p>值得注意的是，这一转义序列限制只对带标签的模板字面量移除，而不包括不带标签的模板字面量：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bad = <span class="string">`bad escape sequence: \unicode`</span>;</span><br></pre></td></tr></table></figure>

<h2 id="规范-1"><a href="#规范-1" class="headerlink" title="规范"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Template_literals#%E8%A7%84%E8%8C%83">规范</a></h2><p>| Specification                                                |
| ———————————————————— |
| <a target="_blank" rel="noopener" href="https://tc39.es/ecma262/multipage/ecmascript-language-expressions.html#sec-template-literals">ECMAScript Language Specification  # sec-template-literals</a> |</p>
<h1 id="条件（三元）运算符"><a href="#条件（三元）运算符" class="headerlink" title="条件（三元）运算符"></a>条件（三元）运算符</h1><p><strong>条件（三元）运算符</strong>是 JavaScript 唯一使用三个操作数的运算符：一个条件后跟一个问号（<code>?</code>），如果条件为<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/Truthy">真值</a>，则执行冒号（<code>:</code>）前的表达式；若条件为<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/Falsy">假值</a>，则执行最后的表达式。该运算符经常当作 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/if...else"><code>if...else</code></a> 语句的简捷形式来使用。</p>
<h2 id="语法-2"><a href="#语法-2" class="headerlink" title="语法"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Conditional_Operator#%E8%AF%AD%E6%B3%95">语法</a></h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">condition ? exprIfTrue : exprIfFalse</span><br></pre></td></tr></table></figure>

<h3 id="参数-1"><a href="#参数-1" class="headerlink" title="参数"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Conditional_Operator#%E5%8F%82%E6%95%B0">参数</a></h3><ul>
<li><p><code>condition</code></p>
<p>​    计算结果用作条件的表达式。  </p>
</li>
<li><p><code>exprIfTrue</code></p>
<p>​    如果 <code>condition</code> 的计算结果为<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/Truthy">真值</a>（等于或可以转换为 <code>true</code> 的值），则执行该表达式。  </p>
</li>
<li><p><code>exprIfFalse</code></p>
<p>​    如果 <code>condition</code> 为<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/Falsy">假值</a>（等于或可以转换为 <code>false</code> 的值）时执行的表达式。</p>
</li>
</ul>
<h2 id="描述-4"><a href="#描述-4" class="headerlink" title="描述"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Conditional_Operator#%E6%8F%8F%E8%BF%B0">描述</a></h2><p>除了 <code>false</code>，可能的假值表达式还有：<code>null</code>、<code>NaN</code>、<code>0</code>、空字符串（<code>&quot;&quot;</code>）和 <code>undefined</code>。如果 <code>condition</code> 是其中任何一个，那么条件表达式的结果就是 <code>exprIfFalse</code> 表达式执行的结果。</p>
<h2 id="示例-2"><a href="#示例-2" class="headerlink" title="示例"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Conditional_Operator#%E7%A4%BA%E4%BE%8B">示例</a></h2><h3 id="简单的例子"><a href="#简单的例子" class="headerlink" title="简单的例子"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Conditional_Operator#%E7%AE%80%E5%8D%95%E7%9A%84%E4%BE%8B%E5%AD%90">简单的例子</a></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> age = <span class="number">26</span>;</span><br><span class="line"><span class="keyword">const</span> beverage = age &gt;= <span class="number">21</span> ? <span class="string">&quot;Beer&quot;</span> : <span class="string">&quot;Juice&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(beverage); <span class="comment">// &quot;Beer&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="处理-null-值"><a href="#处理-null-值" class="headerlink" title="处理 null 值"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Conditional_Operator#%E5%A4%84%E7%90%86_null_%E5%80%BC">处理 null 值</a></h3><p>一个常见的用法是处理可能为 <code>null</code> 的值：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">greeting</span> = (<span class="params">person</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> name = person ? person.<span class="property">name</span> : <span class="string">&quot;stranger&quot;</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`Howdy, <span class="subst">$&#123;name&#125;</span>`</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">greeting</span>(&#123; <span class="attr">name</span>: <span class="string">&quot;Alice&quot;</span> &#125;)); <span class="comment">// &quot;Howdy, Alice&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">greeting</span>(<span class="literal">null</span>)); <span class="comment">// &quot;Howdy, stranger&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="条件链"><a href="#条件链" class="headerlink" title="条件链"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Conditional_Operator#%E6%9D%A1%E4%BB%B6%E9%93%BE">条件链</a></h3><p>三元运算符是右结合的，这意味着它可以按以下方式“链接”起来，类似于 <code>if … else if … else if … else</code> 链：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">example</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> condition1</span><br><span class="line">    ? value1</span><br><span class="line">    : condition2</span><br><span class="line">    ? value2</span><br><span class="line">    : condition3</span><br><span class="line">    ? value3</span><br><span class="line">    : value4;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这等价于以下 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/if...else"><code>if...else</code></a> 链。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">example</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (condition1) &#123;</span><br><span class="line">    <span class="keyword">return</span> value1;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (condition2) &#123;</span><br><span class="line">    <span class="keyword">return</span> value2;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (condition3) &#123;</span><br><span class="line">    <span class="keyword">return</span> value3;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> value4;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="规范-2"><a href="#规范-2" class="headerlink" title="规范"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Conditional_Operator#%E8%A7%84%E8%8C%83">规范</a></h2><p>| Specification                                                |
| ———————————————————— |
| <a target="_blank" rel="noopener" href="https://tc39.es/ecma262/multipage/ecmascript-language-expressions.html#sec-conditional-operator">ECMAScript Language Specification  # sec-conditional-operator</a> |</p>
<h1 id="JavaScript-模块"><a href="#JavaScript-模块" class="headerlink" title="JavaScript 模块"></a>JavaScript 模块</h1><p>这篇指南会给你入门 JavaScript 模块的全部信息。</p>
<h2 id="模块化的背景"><a href="#模块化的背景" class="headerlink" title="模块化的背景"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Modules#%E6%A8%A1%E5%9D%97%E5%8C%96%E7%9A%84%E8%83%8C%E6%99%AF">模块化的背景</a></h2><p>JavaScript 程序本来很小——在早期，它们大多被用来执行独立的脚本任务，在你的 web 页面需要的地方提供一定交互，所以一般不需要多大的脚本。过了几年，我们现在有了运行大量 JavaScript 脚本的复杂程序，还有一些被用在其他环境（例如 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/Node.js">Node.js</a>）。</p>
<p>因此，近年来，有必要开始考虑提供一种<strong>将 JavaScript 程序拆分为可按需导入的单独模块</strong>的机制。Node.js 已经提供这个能力很长时间了，还有很多的 JavaScript 库和框架已经开始了模块的使用（例如，<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/CommonJS">CommonJS</a> 和基于 <a target="_blank" rel="noopener" href="https://github.com/amdjs/amdjs-api/blob/master/AMD.md">AMD</a> 的其他模块系统 如 <a target="_blank" rel="noopener" href="https://requirejs.org/">RequireJS</a>，以及最新的 <a target="_blank" rel="noopener" href="https://webpack.github.io/">Webpack</a> 和 <a target="_blank" rel="noopener" href="https://babeljs.io/">Babel</a>）。</p>
<p>好消息是，最新的浏览器开始原生支持模块功能了，这是本文要重点讲述的。这会是一个好事情 —- 浏览器能够最优化加载模块，使它比使用库更有效率：使用库通常需要做额外的客户端处理。</p>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="true">
                <source type="audio/mpeg" src="">
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        
                            <li title="0" data-url="https://blog.curesky.site/audio/yinlang.mp3"></li>
                        
                    
                </ul>
            
        </div>
        
        
    <div id="gitalk-container" class="comment link"
		data-enable="true"
        data-ae="true"
        data-ci="10a7f71656553fd4676c"
        data-cs="48f8d183288b4d0b2531f047719dee43bdc913ec"
        data-r="allureluoli.github.io"
        data-o="allureluoli"
        data-a="allureluoli"
        data-d="false"
    >查看评论</div>


    </div>
    
        <div class="side">
            <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%ACJavaScript"><span class="toc-number">1.</span> <span class="toc-text">基本JavaScript</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%92%8C%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0"><span class="toc-number"></span> <span class="toc-text">函数和箭头函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%A3%B0%E6%98%8E"><span class="toc-number">1.</span> <span class="toc-text">函数声明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">2.</span> <span class="toc-text">函数表达式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0"><span class="toc-number"></span> <span class="toc-text">箭头函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95"><span class="toc-number">1.</span> <span class="toc-text">基础语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E8%AF%AD%E6%B3%95"><span class="toc-number">2.</span> <span class="toc-text">高级语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B2%A1%E6%9C%89%E5%8D%95%E7%8B%AC%E7%9A%84this"><span class="toc-number">3.</span> <span class="toc-text">没有单独的this</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8E%E4%B8%A5%E6%A0%BC%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-number">3.1.</span> <span class="toc-text">与严格模式的关系</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E8%BF%87-call-%E6%88%96-apply-%E8%B0%83%E7%94%A8"><span class="toc-number">3.2.</span> <span class="toc-text">通过 call 或 apply 调用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E7%BB%91%E5%AE%9Aarguments"><span class="toc-number">4.</span> <span class="toc-text">不绑定arguments</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%E4%BD%9C%E4%B8%BA%E6%96%B9%E6%B3%95"><span class="toc-number">5.</span> <span class="toc-text">使用箭头函数作为方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-new-%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="toc-number">6.</span> <span class="toc-text">使用 new 操作符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8prototype%E5%B1%9E%E6%80%A7"><span class="toc-number">7.</span> <span class="toc-text">使用prototype属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-yield-%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">8.</span> <span class="toc-text">使用 yield 关键字</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E4%BD%93"><span class="toc-number"></span> <span class="toc-text">函数体</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E%E5%AF%B9%E8%B1%A1%E5%AD%97%E9%9D%A2%E9%87%8F"><span class="toc-number"></span> <span class="toc-text">返回对象字面量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8D%A2%E8%A1%8C"><span class="toc-number"></span> <span class="toc-text">换行</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A3%E6%9E%90%E9%A1%BA%E5%BA%8F"><span class="toc-number"></span> <span class="toc-text">解析顺序</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Object%EF%BC%88%E5%AF%B9%E8%B1%A1%EF%BC%89"><span class="toc-number">1.</span> <span class="toc-text">Object（对象）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%8F%E8%BF%B0"><span class="toc-number"></span> <span class="toc-text">描述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E5%8E%9F%E5%9E%8B%E5%B1%9E%E6%80%A7"><span class="toc-number">1.</span> <span class="toc-text">对象原型属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8E%E5%AF%B9%E8%B1%A1%E4%B8%AD%E5%88%A0%E9%99%A4%E5%B1%9E%E6%80%A7"><span class="toc-number">2.</span> <span class="toc-text">从对象中删除属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#null-%E5%8E%9F%E5%9E%8B%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.</span> <span class="toc-text">null 原型对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E5%BC%BA%E5%88%B6%E8%BD%AC%E6%8D%A2"><span class="toc-number">4.</span> <span class="toc-text">对象强制转换</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number"></span> <span class="toc-text">构造函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95"><span class="toc-number"></span> <span class="toc-text">静态方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E5%B1%9E%E6%80%A7"><span class="toc-number"></span> <span class="toc-text">实例属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E6%96%B9%E6%B3%95"><span class="toc-number"></span> <span class="toc-text">实例方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B"><span class="toc-number"></span> <span class="toc-text">示例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E7%A9%BA%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.</span> <span class="toc-text">构造空对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-Object-%E7%94%9F%E6%88%90%E5%B8%83%E5%B0%94%E5%AF%B9%E8%B1%A1"><span class="toc-number">2.</span> <span class="toc-text">使用 Object 生成布尔对象</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Array-%E6%95%B0%E7%BB%84"><span class="toc-number"></span> <span class="toc-text">Array(数组)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%8F%E8%BF%B0-1"><span class="toc-number"></span> <span class="toc-text">描述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E4%B8%8B%E6%A0%87"><span class="toc-number">1.</span> <span class="toc-text">数组下标</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%95%BF%E5%BA%A6%E4%B8%8E%E6%95%B0%E5%80%BC%E5%B1%9E%E6%80%A7%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-number">2.</span> <span class="toc-text">长度与数值属性的关系</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC"><span class="toc-number"></span> <span class="toc-text">解构赋值</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95"><span class="toc-number"></span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%8F%E8%BF%B0-2"><span class="toc-number"></span> <span class="toc-text">描述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%91%E5%AE%9A%E4%B8%8E%E8%B5%8B%E5%80%BC"><span class="toc-number">1.</span> <span class="toc-text">绑定与赋值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E5%80%BC"><span class="toc-number">2.</span> <span class="toc-text">默认值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%A9%E4%BD%99%E5%B1%9E%E6%80%A7"><span class="toc-number">3.</span> <span class="toc-text">剩余属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%85%B6%E4%BB%96%E8%AF%AD%E6%B3%95%E8%A7%A3%E6%9E%84%E6%A8%A1%E5%BC%8F"><span class="toc-number">4.</span> <span class="toc-text">使用其他语法解构模式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B-1"><span class="toc-number"></span> <span class="toc-text">示例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E6%9E%84%E6%95%B0%E7%BB%84"><span class="toc-number">1.</span> <span class="toc-text">解构数组</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E5%8F%98%E9%87%8F%E8%B5%8B%E5%80%BC"><span class="toc-number">1.1.</span> <span class="toc-text">基本变量赋值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E6%9E%84%E6%AF%94%E6%BA%90%E6%9B%B4%E5%A4%9A%E7%9A%84%E5%85%83%E7%B4%A0"><span class="toc-number">1.2.</span> <span class="toc-text">解构比源更多的元素</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%A4%E6%8D%A2%E5%8F%98%E9%87%8F"><span class="toc-number">1.3.</span> <span class="toc-text">交换变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E6%9E%90%E4%B8%80%E4%B8%AA%E4%BB%8E%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E7%9A%84%E6%95%B0%E7%BB%84"><span class="toc-number">1.4.</span> <span class="toc-text">解析一个从函数返回的数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BF%BD%E7%95%A5%E6%9F%90%E4%BA%9B%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-number">1.5.</span> <span class="toc-text">忽略某些返回值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%BB%91%E5%AE%9A%E6%A8%A1%E5%BC%8F%E4%BD%9C%E4%B8%BA%E5%89%A9%E4%BD%99%E5%B1%9E%E6%80%A7"><span class="toc-number">1.6.</span> <span class="toc-text">使用绑定模式作为剩余属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%8E%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%8C%B9%E9%85%8D%E9%A1%B9%E4%B8%AD%E6%8F%90%E5%8F%96%E5%80%BC"><span class="toc-number">1.7.</span> <span class="toc-text">从正则表达式匹配项中提取值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8%E4%BB%BB%E4%BD%95%E5%8F%AF%E8%BF%AD%E4%BB%A3%E5%AF%B9%E8%B1%A1%E4%B8%8A%E4%BD%BF%E7%94%A8%E6%95%B0%E7%BB%84%E8%A7%A3%E6%9E%84"><span class="toc-number">1.8.</span> <span class="toc-text">在任何可迭代对象上使用数组解构</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E6%9E%84%E5%AF%B9%E8%B1%A1"><span class="toc-number">2.</span> <span class="toc-text">解构对象</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%B5%8B%E5%80%BC"><span class="toc-number">2.1.</span> <span class="toc-text">基本赋值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B5%8B%E5%80%BC%E7%BB%99%E6%96%B0%E7%9A%84%E5%8F%98%E9%87%8F%E5%90%8D"><span class="toc-number">2.2.</span> <span class="toc-text">赋值给新的变量名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B5%8B%E5%80%BC%E5%88%B0%E6%96%B0%E7%9A%84%E5%8F%98%E9%87%8F%E5%90%8D%E5%B9%B6%E6%8F%90%E4%BE%9B%E9%BB%98%E8%AE%A4%E5%80%BC"><span class="toc-number">2.3.</span> <span class="toc-text">赋值到新的变量名并提供默认值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%8E%E4%BD%9C%E4%B8%BA%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92%E7%9A%84%E5%AF%B9%E8%B1%A1%E4%B8%AD%E6%8F%90%E5%8F%96%E5%B1%9E%E6%80%A7"><span class="toc-number">2.4.</span> <span class="toc-text">从作为函数参数传递的对象中提取属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E7%9A%84%E9%BB%98%E8%AE%A4%E5%80%BC"><span class="toc-number">2.5.</span> <span class="toc-text">设置函数参数的默认值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E6%9E%84%E5%B5%8C%E5%A5%97%E5%AF%B9%E8%B1%A1%E5%92%8C%E6%95%B0%E7%BB%84"><span class="toc-number">2.6.</span> <span class="toc-text">解构嵌套对象和数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#For-of-%E8%BF%AD%E4%BB%A3%E5%92%8C%E8%A7%A3%E6%9E%84"><span class="toc-number">2.7.</span> <span class="toc-text">For of 迭代和解构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7%E8%AE%A1%E7%AE%97%E5%90%8D%E5%92%8C%E8%A7%A3%E6%9E%84"><span class="toc-number">2.8.</span> <span class="toc-text">对象属性计算名和解构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A0%E6%95%88%E7%9A%84-JavaScript-%E6%A0%87%E8%AF%86%E7%AC%A6%E4%BD%9C%E4%B8%BA%E5%B1%9E%E6%80%A7%E5%90%8D%E7%A7%B0"><span class="toc-number">2.9.</span> <span class="toc-text">无效的 JavaScript 标识符作为属性名称</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E6%9E%84%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.</span> <span class="toc-text">解构基本类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E6%95%B0%E7%BB%84%E5%92%8C%E5%AF%B9%E8%B1%A1%E8%A7%A3%E6%9E%84"><span class="toc-number">3.1.</span> <span class="toc-text">组合数组和对象解构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E6%9E%84%E5%AF%B9%E8%B1%A1%E6%97%B6%E6%9F%A5%E6%89%BE%E5%8E%9F%E5%9E%8B%E9%93%BE"><span class="toc-number">3.2.</span> <span class="toc-text">解构对象时查找原型链</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%84%E8%8C%83"><span class="toc-number"></span> <span class="toc-text">规范</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number"></span> <span class="toc-text">模板字符串</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-1"><span class="toc-number"></span> <span class="toc-text">语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E6%95%B0"><span class="toc-number">1.</span> <span class="toc-text">参数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%8F%E8%BF%B0-3"><span class="toc-number"></span> <span class="toc-text">描述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E8%A1%8C%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">1.</span> <span class="toc-text">多行字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8F%92%E5%80%BC"><span class="toc-number">2.</span> <span class="toc-text">字符串插值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B5%8C%E5%A5%97%E6%A8%A1%E6%9D%BF"><span class="toc-number">3.</span> <span class="toc-text">嵌套模板</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%A6%E6%A0%87%E7%AD%BE%E7%9A%84%E6%A8%A1%E6%9D%BF"><span class="toc-number">4.</span> <span class="toc-text">带标签的模板</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%9F%E5%A7%8B%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">5.</span> <span class="toc-text">原始字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%A6%E6%A0%87%E7%AD%BE%E7%9A%84%E6%A8%A1%E6%9D%BF%E5%AD%97%E9%9D%A2%E9%87%8F%E5%8F%8A%E8%BD%AC%E4%B9%89%E5%BA%8F%E5%88%97"><span class="toc-number">6.</span> <span class="toc-text">带标签的模板字面量及转义序列</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%84%E8%8C%83-1"><span class="toc-number"></span> <span class="toc-text">规范</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%EF%BC%88%E4%B8%89%E5%85%83%EF%BC%89%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number"></span> <span class="toc-text">条件（三元）运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-2"><span class="toc-number"></span> <span class="toc-text">语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-1"><span class="toc-number">1.</span> <span class="toc-text">参数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%8F%E8%BF%B0-4"><span class="toc-number"></span> <span class="toc-text">描述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B-2"><span class="toc-number"></span> <span class="toc-text">示例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E7%9A%84%E4%BE%8B%E5%AD%90"><span class="toc-number">1.</span> <span class="toc-text">简单的例子</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%84%E7%90%86-null-%E5%80%BC"><span class="toc-number">2.</span> <span class="toc-text">处理 null 值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E9%93%BE"><span class="toc-number">3.</span> <span class="toc-text">条件链</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%84%E8%8C%83-2"><span class="toc-number"></span> <span class="toc-text">规范</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JavaScript-%E6%A8%A1%E5%9D%97"><span class="toc-number"></span> <span class="toc-text">JavaScript 模块</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E5%8C%96%E7%9A%84%E8%83%8C%E6%99%AF"><span class="toc-number"></span> <span class="toc-text">模块化的背景</span></a>
        </div>
    
</div>
    </div>
</div>
</body>

<script src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>


<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/typed.js"></script>
<script src="/js/diaspora.js"></script>


<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">


<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>






</html>
